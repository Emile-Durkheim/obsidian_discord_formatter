/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// tests/main.test.ts
var main_test_exports = {};
__export(main_test_exports, {
  default: () => DiscordFormatter
});
module.exports = __toCommonJS(main_test_exports);
var import_obsidian2 = require("obsidian");

// src/utils.ts
var CouldNotParseError = class extends Error {
  constructor(message) {
    super(message);
    Object.setPrototypeOf(this, CouldNotParseError.prototype);
  }
};
var EmptyMessageError = class extends Error {
  constructor(message) {
    super(message);
    Object.setPrototypeOf(this, EmptyMessageError.prototype);
  }
};
function parseMessageText(messageContentElems) {
  const textRuns = [];
  for (const elem of Array.from(messageContentElems)) {
    if (/^emojiContainer/.test(elem.className)) {
      const imgElem = elem.children[0];
      if (!imgElem) {
        throw new CouldNotParseError("parseMessageText: No img element found in span.emojiContainer");
      }
      if (/^:.+:$/.test(imgElem.alt)) {
        textRuns.push({ type: "customEmoji", content: imgElem.src });
      } else {
        textRuns.push({ type: "emoji", content: imgElem.alt });
      }
      continue;
    }
    let textContent = elem.textContent;
    if (!textContent) {
      throw new CouldNotParseError("parseMessageText: Message run contains neither text content nor emoji");
    }
    textContent = textContent.replace("\n", "\n>");
    switch (elem.nodeName) {
      case "EM": {
        textRuns.push({ type: "italics", content: textContent });
        break;
      }
      case "STRONG": {
        textRuns.push({ type: "bold", content: textContent });
        break;
      }
      case "U": {
        textRuns.push({ type: "underline", content: textContent });
        break;
      }
      case "S": {
        textRuns.push({ type: "strikethrough", content: textContent });
        break;
      }
      case "H1": {
        textRuns.push({ type: "h1", content: textContent });
        break;
      }
      case "H2": {
        textRuns.push({ type: "h2", content: textContent });
        break;
      }
      case "H3": {
        textRuns.push({ type: "h3", content: textContent });
        break;
      }
      case "TIME": {
        textRuns.push({ type: "edited", content: elem.dateTime });
        break;
      }
      default: {
        if (/blockquote/.test(elem.className)) {
          textRuns.push({ type: "quote", content: textContent });
        } else {
          textRuns.push({ type: "default", content: textContent });
        }
      }
    }
  }
  return textRuns;
}
function parseMessageAttachments(messageAccessoryElem) {
  if (messageAccessoryElem.nodeName != "DIV" || !/message-accessories/.test(messageAccessoryElem.id)) {
    throw new CouldNotParseError('messageAccessoryElem not <div id="message-accessories...">');
  }
  const messageAccessoryImages = Array.from(messageAccessoryElem.querySelectorAll("img"));
  return messageAccessoryImages.map((img) => {
    return img.src;
  });
}
function textRunsToMarkdown(textRuns, formats2) {
  const markdownArray = [];
  for (const run of textRuns) {
    const markdown = formats2[run.type](run.content);
    markdownArray.push(markdown);
  }
  return markdownArray.join("");
}

// src/AbstractDiscordMessage.ts
var AbstractDiscordMessage = class {
  constructor(MESSAGE_LI) {
  }
};

// src/DiscordMessageReply.ts
var DiscordMessageReply = class extends AbstractDiscordMessage {
  constructor(REPLY_DIV) {
    super(REPLY_DIV);
    if (!/^message-reply-context/.test(REPLY_DIV.id)) {
      console.error(REPLY_DIV);
      throw new CouldNotParseError(`Expected <div id="message-reply-context...">`);
    }
    this.header = this.constructMessageHeader(REPLY_DIV);
    this.content = this.constructMessageContent(REPLY_DIV);
  }
  constructMessageContent(REPLY_DIV) {
    const messageContentElems = this.getMessageTextElems(REPLY_DIV);
    if (!messageContentElems) {
      console.error(REPLY_DIV);
      throw new EmptyMessageError(`Message contains no text content`);
    }
    return { textRuns: parseMessageText(messageContentElems) };
  }
  getMessageTextElems(REPLY_DIV) {
    var _a;
    return (_a = REPLY_DIV.querySelector("div[id^='message-content']")) == null ? void 0 : _a.children;
  }
  constructMessageHeader(REPLY_DIV) {
    var _a;
    const nickname = (_a = REPLY_DIV.querySelector("[class^='username-']")) == null ? void 0 : _a.textContent;
    if (!nickname) {
      console.error(REPLY_DIV);
      throw new CouldNotParseError(`Expected a <span class='username-'> in div, but querySelector couldn't locate one`);
    }
    return { nickname };
  }
  toMarkdown(formats2) {
    let textRunMarkdown = textRunsToMarkdown(this.content.textRuns, formats2);
    textRunMarkdown = textRunMarkdown.replace("\n", "\n>>");
    console.log("????");
    const replyMarkdown = formats2["reply"](textRunMarkdown, this.header.nickname);
    return formats2["reply"](replyMarkdown, this.header.nickname);
  }
};

// src/DiscordMessage.ts
var AbstractDiscordMessage2 = class {
  constructor(MESSAGE_LI) {
  }
};
var DiscordMessage = class extends AbstractDiscordMessage2 {
  constructor(MESSAGE_LI) {
    var _a;
    super(MESSAGE_LI);
    if (!((_a = MESSAGE_LI.firstElementChild) == null ? void 0 : _a.innerHTML)) {
      throw new EmptyMessageError("<li> seems to be empty");
    }
    try {
      this.header = this.constructMessageHeader(MESSAGE_LI);
    } catch (error) {
      if (!(error instanceof CouldNotParseError)) {
        throw error;
      }
    }
    this.content = this.constructMessageContent(MESSAGE_LI);
  }
  constructMessageHeader(MESSAGE_LI) {
    var _a, _b, _c;
    const headerDiv = MESSAGE_LI.querySelector("h3[class^='header']");
    if (!headerDiv) {
      throw new CouldNotParseError(`No <h3 class='header...'> found`);
    }
    const nickname = (_a = headerDiv.querySelector("span[class^='username']")) == null ? void 0 : _a.textContent;
    if (!nickname) {
      throw new CouldNotParseError(`Message Header exists, but could not find nickname`);
    }
    const timeExact = (_b = headerDiv.querySelector("time")) == null ? void 0 : _b.dateTime;
    let timeRelative = (_c = headerDiv.querySelector("time")) == null ? void 0 : _c.textContent;
    if (!(timeExact && timeRelative)) {
      throw new CouldNotParseError(`Message Header exists, but could not find time`);
    } else {
      const regexTimeRelative = /â€” (.*)/.exec(timeRelative);
      if (!(regexTimeRelative && regexTimeRelative.length == 2)) {
        throw new CouldNotParseError("Relative time could not be parsed from Regex");
      }
      timeRelative = regexTimeRelative[1];
    }
    const avatarDiv = MESSAGE_LI.querySelector("img[class^='avatar']");
    let avatarUrl = void 0;
    if (avatarDiv) {
      avatarUrl = avatarDiv.src;
    }
    const messageReplyDiv = MESSAGE_LI.querySelector("div[id^='message-reply'");
    let messageReply = void 0;
    if (messageReplyDiv) {
      messageReply = new DiscordMessageReply(messageReplyDiv);
    }
    const header = {
      nickname,
      timeExact: Date.parse(timeExact),
      timeRelative
    };
    if (avatarUrl)
      header.avatar = avatarUrl;
    if (messageReply)
      header.reply = messageReply;
    return header;
  }
  constructMessageContent(MESSAGE_LI) {
    const messageTextElems = this.getMessageTextElems(MESSAGE_LI);
    const messageAttachmentElem = MESSAGE_LI.querySelector("div[id^='message-accessories']");
    if (!messageTextElems && !messageAttachmentElem) {
      throw new EmptyMessageError(`Message contains neither text content nor attachments`);
    }
    const content = {};
    if (messageTextElems) {
      content.textRuns = parseMessageText(messageTextElems);
    }
    if (messageAttachmentElem) {
      content.attachments = parseMessageAttachments(messageAttachmentElem);
    }
    return content;
  }
  getMessageTextElems(MESSAGE_LI) {
    var _a;
    return (_a = MESSAGE_LI.querySelector("div[class^='contents'] > div[id^='message-content']")) == null ? void 0 : _a.children;
  }
  toMarkdown(formats2) {
    const markdownArray = [];
    if (this.header) {
      const date = new Date(this.header.timeExact);
      markdownArray.push(
        `**${this.header.nickname} - ${date.toLocaleString()}**`
      );
      if (this.header.reply) {
        markdownArray.push(this.header.reply.toMarkdown(formats2));
      }
    }
    if (this.content.textRuns) {
      markdownArray.push(textRunsToMarkdown(this.content.textRuns, formats2));
    }
    if (this.content.attachments) {
      for (const url of this.content.attachments) {
        markdownArray.push(`![](${url})`);
      }
    }
    return ">" + markdownArray.join("\n>");
  }
};

// src/DiscordSingleMessage.ts
var DiscordSingleMessage = class extends DiscordMessage {
  constructor(messageDiv) {
    super(messageDiv);
  }
  getMessageTextElems(messageDiv) {
    var _a;
    return (_a = messageDiv.querySelector("div[id^='message-content']")) == null ? void 0 : _a.children;
  }
};

// src/DiscordConversation.ts
var DiscordConversation = class {
  constructor(DOM, formats2) {
    if (!this.isDiscordPaste(DOM)) {
      throw new CouldNotParseError("Paste doesn't appear to be from Discord");
    }
    this.messages = this.createMessages(DOM, formats2);
  }
  static fromRawHTML(HTML, formats2) {
    const parser = new DOMParser();
    const DOM = parser.parseFromString(HTML, "text/html");
    return new this(DOM, formats2);
  }
  createMessages(DOM, formats2) {
    const discordMessages = [];
    const domOfMessages = Array.from(DOM.querySelectorAll("li"));
    if (domOfMessages.length > 0) {
      for (const message of domOfMessages) {
        try {
          discordMessages.push(new DiscordMessage(message));
        } catch (err) {
          if (!(err instanceof EmptyMessageError)) {
            throw err;
          } else {
            continue;
          }
        }
      }
    } else {
      discordMessages.push(new DiscordSingleMessage(DOM.body));
    }
    return discordMessages;
  }
  isDiscordPaste(DOM) {
    const messageContentElem = DOM.querySelector("div[id^='message-content']");
    if (messageContentElem) {
      if (!/message-content-\d{19}/.test(messageContentElem.id)) {
        console.error("isDiscordPaste FAIL: No <div id='message-content-\\d{19}'");
        return false;
      }
      if (!/markup-[\w\d]{6}/.test(messageContentElem.className)) {
        console.error("isDiscordPaste FAIL: No <div class='markup-\\w{6}'");
        return false;
      }
      if (!/messageContent-[\w\d]{6}/.test(messageContentElem.className)) {
        console.error("isDiscordPaste FAIL: No <div class='messageContent-\\w{6}'");
        return false;
      }
      return true;
    }
    const messageAccesoriesElem = DOM.querySelector("div[id^='message-accessories']");
    if (messageAccesoriesElem) {
      if (!/message-accessories-\d{19}/.test(messageAccesoriesElem.id)) {
        console.error("isDiscordPaste FAIL: No <div id='message-accessories-\\d{19}'");
        return false;
      }
      if (!/container-[\w\d]{6}/.test(messageAccesoriesElem.className)) {
        console.error("isDiscordPaste FAIL: No <div class='container-\\w{6}'");
        return false;
      }
      return true;
    }
    return false;
  }
  toMarkdown(formats2) {
    const markdownArray = [];
    for (const message of this.messages) {
      if (message.header && markdownArray.length > 0) {
        markdownArray.push(">");
      }
      markdownArray.push(message.toMarkdown(formats2));
    }
    return markdownArray.join("\n");
  }
};

// src/settings.ts
var import_obsidian = require("obsidian");
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Show Replies").setDesc("If there's a message reply, paste the message that's been replied to.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showReplies).onChange(async (value) => {
        this.plugin.settings.showReplies = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Distinguish Headings").setDesc("Use a different markdown for each heading level.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.distinguishHeadings).onChange(async (value) => {
        this.plugin.settings.distinguishHeadings = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Show (edited)").setDesc("Copy the *(edited)* mark to Obsidian.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showEdited).onChange(async (value) => {
        this.plugin.settings.showEdited = value;
        await this.plugin.saveSettings();
      });
    });
  }
};

// src/formats.ts
var formats = {
  reply: {
    // showReply toggle
    enabled: (replyText, nickname) => {
      return `>**${nickname}**: ${replyText}`;
    },
    disabled: (replyText, nickname) => {
      return "";
    }
  },
  edited: {
    // showEdited toggle
    enabled: () => {
      return " *(edited)*";
    },
    disabled: () => {
      return "";
    }
  },
  italics: (content) => {
    return `*${content}*`;
  },
  bold: (content) => {
    return `**${content}**`;
  },
  underline: (content) => {
    return `<u>${content}</u>`;
  },
  strikethrough: (content) => {
    return `~~${content}~~`;
  },
  quote: (content) => {
    return `>${content}`;
  },
  undistinguishedHeading: (content) => {
    return addNewLine(`**${content}**`);
  },
  h1: (content) => {
    return addNewLine(`**--- ${content} ---**`);
  },
  h2: (content) => {
    return addNewLine(`**--${content}--**`);
  },
  h3: (content) => {
    return addNewLine(`**-${content}-**`);
  },
  default: (content) => {
    return content;
  },
  // content without particular formatting
  emoji: (content) => {
    return content;
  },
  customEmoji: (content) => {
    return `<img src='${content}' style='height: var(--font-text-size)'>`;
  }
};
function addNewLine(content) {
  return content + "\n>";
}
function createFormats(settings) {
  let h1Format;
  let h2Format;
  let h3Format;
  if (settings.distinguishHeadings === false) {
    h1Format = formats.undistinguishedHeading;
    h2Format = formats.undistinguishedHeading;
    h3Format = formats.undistinguishedHeading;
  } else {
    h1Format = formats.h1;
    h2Format = formats.h2;
    h3Format = formats.h3;
  }
  let editedFormat;
  if (settings.showEdited === true) {
    editedFormat = formats.edited.enabled;
  } else {
    editedFormat = formats.edited.disabled;
  }
  let replyFormat;
  if (settings.showReplies === true) {
    replyFormat = formats.reply.enabled;
  } else {
    replyFormat = formats.reply.disabled;
  }
  return {
    reply: replyFormat,
    edited: editedFormat,
    italics: formats.italics,
    bold: formats.bold,
    underline: formats.underline,
    strikethrough: formats.strikethrough,
    quote: formats.quote,
    h1: h1Format,
    h2: h2Format,
    h3: h3Format,
    default: formats.default,
    emoji: formats.emoji,
    customEmoji: formats.customEmoji
  };
}

// tests/tests.ts
var fs = __toESM(require("fs"));
function assertEqual(outputValue, assertionValue, name) {
  if (outputValue instanceof Object && assertionValue instanceof Object) {
    if (JSON.stringify(outputValue) != JSON.stringify(assertionValue)) {
      console.error(
        `FAIL: ${name}
Output Object: `,
        outputValue,
        `
Assertion Object: `,
        assertionValue
      );
    } else {
      console.log(`PASS: ${name}`);
    }
  } else if (typeof outputValue == "string" && typeof assertionValue == "string") {
    if (outputValue != assertionValue) {
      console.error(
        `FAIL: ${name}
Output string: `,
        outputValue,
        `
Assertion string: `,
        assertionValue
      );
    } else {
      console.log(`PASS: ${name}`);
    }
  }
}
var Tests = class {
  constructor() {
    this.DIR = "/home/dude/Sync/dev vault/.obsidian/plugins/discord-message-formatter/tests/";
  }
  run(formats2) {
    console.log("--- TEST START ---");
    this.runMessageTests(formats2);
    this.runConversationTests(formats2);
    this.runSingleMessageTests(formats2);
  }
  runMessageTests(formats2) {
    const TESTOBJECTS = [
      {
        fileName: "one_with_header_and_pfp.html",
        object: { "header": { "nickname": "Hunter Biden's laptop", "timeExact": 1689992946294, "timeRelative": "Today at 04:29", "avatar": "https://cdn.discordapp.com/avatars/197517944425676802/988fca0e8f445ce54c9dd2600ec7bc35.webp?size=80" }, "context": { "channelId": "557327188311932959", "messageId": "1132137215611379812" }, "content": { "text": "Dangerous disease" } },
        markdown: ">**Hunter Biden's laptop - 7/22/2023, 4:29:06 AM**\n>Dangerous disease"
      },
      {
        fileName: "one_with_header.html",
        object: { "header": { "nickname": "Hunter Biden's laptop", "timeExact": 1689997530951, "timeRelative": "Today at 05:45" }, "context": { "channelId": "557327188311932959", "messageId": "1132156445056569395" }, "content": { "text": "true" } },
        markdown: ">**Hunter Biden's laptop - 7/22/2023, 5:45:30 AM**\n>true"
      }
    ];
    for (const { fileName, object, markdown } of TESTOBJECTS) {
      fs.readFile(this.DIR + fileName, "utf8", (err, data) => {
        if (err) {
          console.error(err);
          return;
        }
        const parser = new DOMParser();
        const DOM = parser.parseFromString(data, "text/html");
        const firstLi = DOM.querySelector("li");
        const message = new DiscordMessage(firstLi);
        assertEqual(message, object, "DiscordMessage Object equality: " + fileName);
        assertEqual(message.toMarkdown(formats2), markdown, "DiscordMessage.toMarkdown() equality: " + fileName);
      });
    }
  }
  runConversationTests(formats2) {
    const TESTOBJECTS = [
      {
        fileName: "multiple_with_header.html",
        object: { "messages": [{ "header": { "nickname": "Herr", "timeExact": 1690650011630, "timeRelative": "Today at 19:00" }, "context": { "channelId": "840286264964022302", "messageId": "1134893147378425957" }, "content": { "text": "The issue happens when I try to compile the file manually using tsc tests/UnitTests.ts *(edited)*" } }, { "context": { "channelId": "840286264964022302", "messageId": "1134893348440776704" }, "content": { "text": "However, I kinda feel like I have to because npm run dev doesn't seem to compile tests/UnitTests.ts to a tests/UnitTests.js like it does with all other .ts files? *(edited)*" } }, { "context": { "channelId": "840286264964022302", "messageId": "1134893757297344572" }, "content": { "text": "Guess it doesn't matter since it responds to changes to the UnitTests.ts regardless..." } }] },
        markdown: `>**Herr - 7/29/2023, 7:00:11 PM**
>The issue happens when I try to compile the file manually using tsc tests/UnitTests.ts *(edited)*
>However, I kinda feel like I have to because npm run dev doesn't seem to compile tests/UnitTests.ts to a tests/UnitTests.js like it does with all other .ts files? *(edited)*
>Guess it doesn't matter since it responds to changes to the UnitTests.ts regardless...`
      },
      {
        fileName: "multiple_with_pfp.html",
        object: { "messages": [{ "header": { "nickname": "Gigachad Xi", "timeExact": 1689963536254, "timeRelative": "Yesterday at 20:18", "avatar": "https://cdn.discordapp.com/avatars/165944997215076353/432fa5303fb36b8fd126c7178cf70d4c.webp?size=80" }, "context": { "channelId": "557327188311932959", "messageId": "1132013860962975744" }, "content": { "text": "Oppenheimer" } }, { "context": { "channelId": "557327188311932959", "messageId": "1132013881879973978" }, "content": { "text": "Is a solid 7/8" } }] },
        markdown: ">**Gigachad Xi - 7/21/2023, 8:18:56 PM**\n>Oppenheimer\n>Is a solid 7/8"
      },
      {
        fileName: "multiple_from_several_users.html",
        object: { "messages": [{ "header": { "nickname": "Gigachad Xi", "timeExact": 1689963536254, "timeRelative": "Yesterday at 20:18", "avatar": "https://cdn.discordapp.com/avatars/165944997215076353/432fa5303fb36b8fd126c7178cf70d4c.webp?size=80" }, "context": { "channelId": "557327188311932959", "messageId": "1132013860962975744" }, "content": { "text": "Oppenheimer" } }, { "context": { "channelId": "557327188311932959", "messageId": "1132013881879973978" }, "content": { "text": "Is a solid 7/8" } }, { "header": { "nickname": "Luke", "timeExact": 1689964049113, "timeRelative": "Yesterday at 20:27", "avatar": "https://cdn.discordapp.com/avatars/595791333705121804/7b13474c06f4e459c33364597146b822.webp?size=80" }, "context": { "channelId": "557327188311932959", "messageId": "1132016012049531012" }, "content": { "text": "mooi tota vittu oisko poistaa jotai akuuttii nippii tai jotai mukkulan hepatiittirotta syyhki temestat vittu laika vaik piuhal taj jotai. philisp mankka kajari akuutti 15min tori s\xE4\xE4t\xF6 tos ni saan siit jotain ni voin sit maksaa, en laita tilil mit\xE4\xE4 kuumottaa vitusti sossut ja edunvalvonta yms ulosoton takia ni koodaile jotai jos mit\xE4\xE4 buddhaa tms ois poistaa palaillaa sit mo" } }, { "header": { "nickname": "Gigachad Xi", "timeExact": 1689964153722, "timeRelative": "Yesterday at 20:29", "avatar": "https://cdn.discordapp.com/avatars/165944997215076353/432fa5303fb36b8fd126c7178cf70d4c.webp?size=80" }, "context": { "channelId": "557327188311932959", "messageId": "1132016450811461694" }, "content": { "text": "The movie is about physics law and Japan" } }] },
        markdown: ">**Gigachad Xi - 7/21/2023, 8:18:56 PM**\n>Oppenheimer\n>Is a solid 7/8\n>\n>**Luke - 7/21/2023, 8:27:29 PM**\n>mooi tota vittu oisko poistaa jotai akuuttii nippii tai jotai mukkulan hepatiittirotta syyhki temestat vittu laika vaik piuhal taj jotai. philisp mankka kajari akuutti 15min tori s\xE4\xE4t\xF6 tos ni saan siit jotain ni voin sit maksaa, en laita tilil mit\xE4\xE4 kuumottaa vitusti sossut ja edunvalvonta yms ulosoton takia ni koodaile jotai jos mit\xE4\xE4 buddhaa tms ois poistaa palaillaa sit mo\n>\n>**Gigachad Xi - 7/21/2023, 8:29:13 PM**\n>The movie is about physics law and Japan"
      },
      {
        fileName: "multiple_with_reply.html",
        object: { "messages": [{ "header": { "nickname": "bird", "timeExact": 1691022210439, "timeRelative": "Today at 02:23" }, "context": { "channelId": "931852793277476894", "messageId": "1136454262331822130" }, "content": { "text": "I love germany but has to be like among the least drippiest euro countries out there" } }, { "context": { "channelId": "931852793277476894", "messageId": "1136454712170921994" }, "content": { "text": "And its music so bad" } }, { "header": { "nickname": "Matthaeus", "timeExact": 1691022398376, "timeRelative": "Today at 02:26", "avatar": "https://cdn.discordapp.com/avatars/197517944425676802/988fca0e8f445ce54c9dd2600ec7bc35.webp?size=80", "reply": { "header": { "nickname": "@bird" }, "context": { "messageId": "1136454712170921994" }, "content": { "text": "And its music so bad" } } }, "context": { "channelId": "931852793277476894", "messageId": "1136455050596732929" }, "content": { "text": "Lot of good German techno music though" } }] },
        markdown: ">**bird - 8/3/2023, 2:23:30 AM**\n>I love germany but has to be like among the least drippiest euro countries out there\n>And its music so bad\n>\n>**Matthaeus - 8/3/2023, 2:26:38 AM**\n>>**@bird**: And its music so bad\n>Lot of good German techno music though"
      },
      {
        fileName: "single_with_formatting.html",
        object: { "messages": [{ "header": { "nickname": "Herr", "timeExact": 1691526039341, "timeRelative": "08/08/2023 22:20" }, "context": { "channelId": "138567305459142796", "messageId": "1138567473910796310" }, "content": { "text": "normal *italics* **bold** <u>underline</u> ~~strikethrough~~\n>**HEADING 1**\n>**HEADING 2**\n>**HEADING 3**\n>>quote\n> *(edited)*" } }] },
        markdown: ">**Herr - 8/8/2023, 10:20:39 PM**\n>normal *italics* **bold** <u>underline</u> ~~strikethrough~~\n>**HEADING 1**\n>**HEADING 2**\n>**HEADING 3**\n>>quote\n> *(edited)*"
      },
      {
        fileName: "single_with_unicode_emojis.html",
        object: { "messages": [{ "header": { "nickname": "Herr", "timeExact": 1692649260204, "timeRelative": "Today at 22:21" }, "context": { "channelId": "114327860366934837" }, "content": { "text": "\u{1F34B} \u{1F346} \u{1F1E9}\u{1F1EA}" } }] },
        markdown: `>**Herr - 8/21/2023, 10:21:00 PM**
>\u{1F34B} \u{1F346} \u{1F1E9}\u{1F1EA}`
      },
      {
        fileName: "single_with_custom_emojis.html",
        object: { "messages": [{ "header": { "nickname": "Herr", "timeExact": 1692649260204, "timeRelative": "Today at 22:21" }, "context": { "channelId": "114327860366934837" }, "content": { "text": "<img src='https://cdn.discordapp.com/emojis/289470315942248448.webp?size=96&quality=lossless' style='height: var(--font-text-size)'>" } }] },
        markdown: `>**Herr - 8/21/2023, 10:21:00 PM**
><img src='https://cdn.discordapp.com/emojis/289470315942248448.webp?size=96&quality=lossless' style='height: var(--font-text-size)'>`
      },
      {
        fileName: "several_with_attachments.html",
        object: { "messages": [{ "header": { "nickname": "Herr", "timeExact": 1692655959816, "timeRelative": "Today at 00:12" }, "context": { "channelId": "138567305459142796", "messageId": "1143306703878766633" }, "content": { "text": "hello world *(edited)*" } }, { "context": { "channelId": "138567305459142796", "messageId": "1143307020049584188" }, "content": { "text": "abacaba" } }, { "header": { "nickname": "Herr", "timeExact": 1692657247448, "timeRelative": "Today at 00:34", "avatar": "https://cdn.discordapp.com/avatars/132166096286515200/d094d931f04b153aaaeb736c7f9718e9.webp?size=80" }, "context": { "channelId": "138567305459142796", "messageId": "1143312104598810689" }, "content": { "text": "accompanying message text", "attachments": ["https://media.discordapp.net/attachments/1138567305459142796/1143312104103870516/Herr_portrait_of_weird_worm_person_69c468d8-c741-4728-96ab-b8016fff0a2d_1.png?width=273&height=273", "https://media.discordapp.net/attachments/1138567305459142796/1143312104556875816/Herr_weird_creepy_worm_person_cd6e3e60-3e2a-4a11-b21e-d076f9c7317b.png?width=273&height=273"] } }, { "header": { "nickname": "Herr", "timeExact": 1692659735873, "timeRelative": "Today at 01:15", "avatar": "https://cdn.discordapp.com/avatars/132166096286515200/d094d931f04b153aaaeb736c7f9718e9.webp?size=80" }, "context": { "channelId": "138567305459142796", "messageId": "1143322541809750056" }, "content": { "attachments": ["https://media.discordapp.net/attachments/1138567305459142796/1143322540970872902/catjam.gif"] } }] },
        markdown: `>**Herr - 8/22/2023, 12:12:39 AM**
>hello world *(edited)*
>abacaba
>
>**Herr - 8/22/2023, 12:34:07 AM**
>accompanying message text
>![](https://media.discordapp.net/attachments/1138567305459142796/1143312104103870516/Herr_portrait_of_weird_worm_person_69c468d8-c741-4728-96ab-b8016fff0a2d_1.png?width=273&height=273)
>![](https://media.discordapp.net/attachments/1138567305459142796/1143312104556875816/Herr_weird_creepy_worm_person_cd6e3e60-3e2a-4a11-b21e-d076f9c7317b.png?width=273&height=273)
>
>**Herr - 8/22/2023, 1:15:35 AM**
>![](https://media.discordapp.net/attachments/1138567305459142796/1143322540970872902/catjam.gif)`
      }
    ];
    for (const { fileName, object, markdown } of TESTOBJECTS) {
      fs.readFile(this.DIR + fileName, "utf8", (err, data) => {
        if (err) {
          console.error(err);
          return;
        }
        const conversation = DiscordConversation.fromRawHTML(data, formats2);
        assertEqual(conversation, object, "DiscordConversation Object equality: " + fileName);
        assertEqual(conversation.toMarkdown(formats2), markdown, "DiscordConversation.toMarkdown() equality: " + fileName);
      });
    }
  }
  runSingleMessageTests(formats2) {
    const TESTOBJECTS = [
      {
        fileName: "single.html",
        object: { "header": { "nickname": "Herr", "timeExact": 1691526039341, "timeRelative": "Today at 22:20" }, "context": { "channelId": "113856747391079631" }, "content": { "text": "normal *italics* **bold** <u>underline</u> ~~strikethrough~~\n>**HEADING**\n>" } },
        markdown: `>**Herr - 8/8/2023, 10:20:39 PM**
>normal *italics* **bold** <u>underline</u> ~~strikethrough~~
>**HEADING**
>`
      },
      {
        fileName: "single_with_unicode_emojis.html",
        object: { "header": { "nickname": "Herr", "timeExact": 1692649260204, "timeRelative": "Today at 22:21" }, "context": { "channelId": "114327860366934837" }, "content": { "text": "\u{1F34B} \u{1F346} \u{1F1E9}\u{1F1EA}" } },
        markdown: `>**Herr - 8/21/2023, 10:21:00 PM**
>\u{1F34B} \u{1F346} \u{1F1E9}\u{1F1EA}`
      },
      {
        fileName: "single_with_attachments_and_text.html",
        object: { "header": { "nickname": "Herr", "timeExact": 1692657247448, "timeRelative": "Today at 00:34" }, "context": { "channelId": "114331210459881068" }, "content": { "text": "accompanying message text", "attachments": ["https://media.discordapp.net/attachments/1138567305459142796/1143312104103870516/Herr_portrait_of_weird_worm_person_69c468d8-c741-4728-96ab-b8016fff0a2d_1.png?width=273&height=273", "https://media.discordapp.net/attachments/1138567305459142796/1143312104556875816/Herr_weird_creepy_worm_person_cd6e3e60-3e2a-4a11-b21e-d076f9c7317b.png?width=273&height=273"] } },
        markdown: `>**Herr - 8/22/2023, 12:34:07 AM**
>accompanying message text
>![](https://media.discordapp.net/attachments/1138567305459142796/1143312104103870516/Herr_portrait_of_weird_worm_person_69c468d8-c741-4728-96ab-b8016fff0a2d_1.png?width=273&height=273)
>![](https://media.discordapp.net/attachments/1138567305459142796/1143312104556875816/Herr_weird_creepy_worm_person_cd6e3e60-3e2a-4a11-b21e-d076f9c7317b.png?width=273&height=273)`
      },
      {
        fileName: "single_with_only_attachment.html",
        object: { "header": { "nickname": "Herr", "timeExact": 1692659735873, "timeRelative": "Today at 01:15" }, "context": { "channelId": "114332254180975005" }, "content": { "attachments": ["https://media.discordapp.net/attachments/1138567305459142796/1143322540970872902/catjam.gif"] } },
        markdown: `>**Herr - 8/22/2023, 1:15:35 AM**
>![](https://media.discordapp.net/attachments/1138567305459142796/1143322540970872902/catjam.gif)`
      }
    ];
    for (const { fileName, object, markdown } of TESTOBJECTS) {
      fs.readFile(this.DIR + fileName, "utf8", (err, data) => {
        if (err) {
          console.error(err);
          return;
        }
        const parser = new DOMParser();
        const DOM = parser.parseFromString(data, "text/html");
        const singleMessage = new DiscordSingleMessage(DOM.body);
        assertEqual(singleMessage, object, "SingleMessage Object equality: " + fileName);
        assertEqual(singleMessage.toMarkdown(formats2), markdown, "SingleMessage.toMarkdown() equality: " + fileName);
      });
    }
  }
};
var tests_default = new Tests();

// tests/main.test.ts
var fs2 = __toESM(require("fs"));
var DEFAULT_SETTINGS = {
  showEdited: true,
  showReplies: true,
  distinguishHeadings: false
};
var DiscordFormatter = class extends import_obsidian2.Plugin {
  // Test
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new SettingsTab(this.app, this));
    this.pasteMessageHandler = this.pasteMessage.bind(this);
    this.app.workspace.on("editor-paste", this.pasteMessageHandler);
    this.writeClipboardHandler = this.writeClipboardToFile.bind(this);
    this.app.workspace.on("editor-paste", this.writeClipboardHandler);
    this.addCommand({
      id: "run-unit-tests",
      name: "Debug: Run Unit Tests",
      callback: () => {
        tests_default.run(this.formats);
      }
    });
  }
  onunload() {
    this.app.workspace.off("editor-paste", this.pasteMessageHandler);
    this.app.workspace.off("editor-paste", this.writeClipboardHandler);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    this.formats = createFormats(this.settings);
  }
  async saveSettings() {
    this.saveData(this.settings);
    this.formats = createFormats(this.settings);
  }
  pasteMessage(event) {
    var _a, _b, _c;
    const view = this.app.workspace.getActiveViewOfType(import_obsidian2.MarkdownView);
    if (!(view == null ? void 0 : view.editor)) {
      return;
    }
    let conversation = void 0;
    if ((_a = event.clipboardData) == null ? void 0 : _a.getData("text/html")) {
      const rawHTML = (_b = event.clipboardData) == null ? void 0 : _b.getData("text/html");
      conversation = DiscordConversation.fromRawHTML(rawHTML, this.formats);
    } else if ((_c = event.clipboardData) == null ? void 0 : _c.getData("text")) {
    }
    if (conversation && (conversation == null ? void 0 : conversation.messages.length) > 0) {
      event.preventDefault();
      view.editor.replaceSelection(conversation.toMarkdown(this.formats));
    }
  }
  writeClipboardToFile(event) {
    var _a, _b;
    let string = (_a = event.clipboardData) == null ? void 0 : _a.getData("text/html");
    if (!string) {
      string = (_b = event.clipboardData) == null ? void 0 : _b.getData("text");
    }
    if (!string) {
      return;
    }
    for (let i = 0; i < 30; i++) {
      if (!fs2.existsSync(`${i}.html`)) {
        console.log(`Wrote to ~/${i}.html`);
        fs2.writeFile(`${i}.html`, string, () => {
        });
        return;
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidGVzdHMvbWFpbi50ZXN0LnRzIiwgInNyYy91dGlscy50cyIsICJzcmMvQWJzdHJhY3REaXNjb3JkTWVzc2FnZS50cyIsICJzcmMvRGlzY29yZE1lc3NhZ2VSZXBseS50cyIsICJzcmMvRGlzY29yZE1lc3NhZ2UudHMiLCAic3JjL0Rpc2NvcmRTaW5nbGVNZXNzYWdlLnRzIiwgInNyYy9EaXNjb3JkQ29udmVyc2F0aW9uLnRzIiwgInNyYy9zZXR0aW5ncy50cyIsICJzcmMvZm9ybWF0cy50cyIsICJ0ZXN0cy90ZXN0cy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gVGhpcyBmaWxlIGlzIGR1cGxpY2F0ZWQgY29kZSBmcm9tIG1haW4udHM7IG5vdCB0aGUgaWRlYWwgc29sdXRpb24gSSdtIGF3YXJlXG5cbmltcG9ydCB7IE1hcmtkb3duVmlldywgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgRGlzY29yZENvbnZlcnNhdGlvbiBmcm9tIFwic3JjL0Rpc2NvcmRDb252ZXJzYXRpb25cIjtcbmltcG9ydCB7IElEaXNjb3JkRm9ybWF0dGVyU2V0dGluZ3MsIFNldHRpbmdzVGFiIH0gZnJvbSAnc3JjL3NldHRpbmdzJztcbmltcG9ydCB7IElNZXNzYWdlRm9ybWF0cywgY3JlYXRlRm9ybWF0cyB9IGZyb20gXCJzcmMvZm9ybWF0c1wiO1xuXG5cbi8vIFRlc3RcbmltcG9ydCBUZXN0cyBmcm9tIFwiLi90ZXN0c1wiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IElEaXNjb3JkRm9ybWF0dGVyU2V0dGluZ3MgPSB7XG5cdHNob3dFZGl0ZWQ6IHRydWUsXG5cdHNob3dSZXBsaWVzOiB0cnVlLFxuXHRkaXN0aW5ndWlzaEhlYWRpbmdzOiBmYWxzZVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNjb3JkRm9ybWF0dGVyIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IElEaXNjb3JkRm9ybWF0dGVyU2V0dGluZ3Ncblx0Zm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzXG5cdHBhc3RlTWVzc2FnZUhhbmRsZXI6IChldmVudDogQ2xpcGJvYXJkRXZlbnQpID0+IHZvaWQ7XG5cdHdyaXRlQ2xpcGJvYXJkSGFuZGxlcjogKGV2ZW50OiBDbGlwYm9hcmRFdmVudCkgPT4gdm9pZDsgIC8vIFRlc3RcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgXG5cdFx0Ly8gU2V0dGluZ3MgdGFiXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gRGVmaW5lIGJlaGF2aW91ciBvbiBwYXN0ZVxuXHRcdHRoaXMucGFzdGVNZXNzYWdlSGFuZGxlciA9IHRoaXMucGFzdGVNZXNzYWdlLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdlZGl0b3ItcGFzdGUnLCB0aGlzLnBhc3RlTWVzc2FnZUhhbmRsZXIpO1xuXG5cblxuXHRcdC8vIFRlc3Rcblx0XHR0aGlzLndyaXRlQ2xpcGJvYXJkSGFuZGxlciA9IHRoaXMud3JpdGVDbGlwYm9hcmRUb0ZpbGUuYmluZCh0aGlzKTtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2VkaXRvci1wYXN0ZScsIHRoaXMud3JpdGVDbGlwYm9hcmRIYW5kbGVyKTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJydW4tdW5pdC10ZXN0c1wiLFxuXHRcdFx0bmFtZTogXCJEZWJ1ZzogUnVuIFVuaXQgVGVzdHNcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7IFRlc3RzLnJ1bih0aGlzLmZvcm1hdHMpIH1cblx0XHR9KVx0XHRcblx0fVxuXG5cblx0b251bmxvYWQoKSB7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9mZignZWRpdG9yLXBhc3RlJywgdGhpcy5wYXN0ZU1lc3NhZ2VIYW5kbGVyKTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vZmYoJ2VkaXRvci1wYXN0ZScsIHRoaXMud3JpdGVDbGlwYm9hcmRIYW5kbGVyKTsgIC8vIFRlc3Rcblx0fVxuXG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHRcdHRoaXMuZm9ybWF0cyA9IGNyZWF0ZUZvcm1hdHModGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0XHR0aGlzLmZvcm1hdHMgPSBjcmVhdGVGb3JtYXRzKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblxuXG5cdHBhc3RlTWVzc2FnZShldmVudDogQ2xpcGJvYXJkRXZlbnQpe1xuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdGlmKCF2aWV3Py5lZGl0b3Ipe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRcblx0XHRsZXQgY29udmVyc2F0aW9uOiBEaXNjb3JkQ29udmVyc2F0aW9uIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXHRcdGlmKGV2ZW50LmNsaXBib2FyZERhdGE/LmdldERhdGEoJ3RleHQvaHRtbCcpKXtcblx0XHRcdGNvbnN0IHJhd0hUTUwgPSBldmVudC5jbGlwYm9hcmREYXRhPy5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcblx0XHRcdGNvbnZlcnNhdGlvbiA9IERpc2NvcmRDb252ZXJzYXRpb24uZnJvbVJhd0hUTUwocmF3SFRNTCwgdGhpcy5mb3JtYXRzKTtcblx0XHR9IGVsc2UgaWYoZXZlbnQuY2xpcGJvYXJkRGF0YT8uZ2V0RGF0YSgndGV4dCcpKXtcblx0XHRcdC8vIGNvbnN0IHJhd1RleHQgPSBldmVudC5jbGlwYm9hcmREYXRhPy5nZXREYXRhKCd0ZXh0Jyk7XG5cdFx0XHQvLyBjb252ZXJzYXRpb24gPSBEaXNjb3JkQ29udmVyc2F0aW9uLmZyb21SYXdUZXh0KHJhd1RleHQpO1xuXHRcdH1cblxuXHRcdGlmKGNvbnZlcnNhdGlvbiAmJiBjb252ZXJzYXRpb24/Lm1lc3NhZ2VzLmxlbmd0aCA+IDApe1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZpZXcuZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oY29udmVyc2F0aW9uLnRvTWFya2Rvd24odGhpcy5mb3JtYXRzKSk7XG5cdFx0fVxuXHR9XG5cblxuXHRwcml2YXRlIHdyaXRlQ2xpcGJvYXJkVG9GaWxlKGV2ZW50OiBDbGlwYm9hcmRFdmVudCl7XG5cdFx0Ly8gVGVzdCBmdW5jXG5cdFx0bGV0IHN0cmluZyA9IGV2ZW50LmNsaXBib2FyZERhdGE/LmdldERhdGEoJ3RleHQvaHRtbCcpO1xuXHRcblx0XHRpZighc3RyaW5nKXtcblx0XHRcdHN0cmluZyA9IGV2ZW50LmNsaXBib2FyZERhdGE/LmdldERhdGEoJ3RleHQnKTtcblx0XHR9XG5cblx0XHRpZighc3RyaW5nKXtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gU2F2ZSBkb2N1bWVudCB0byBhIGZpbGVcblx0XHRmb3IobGV0IGk9MDsgaSA8IDMwOyBpKyspe1xuXHRcdFx0aWYoIWZzLmV4aXN0c1N5bmMoYCR7aX0uaHRtbGApKXtcblx0XHRcdFx0Y29uc29sZS5sb2coYFdyb3RlIHRvIH4vJHtpfS5odG1sYClcblx0XHRcdFx0ZnMud3JpdGVGaWxlKGAke2l9Lmh0bWxgLCBzdHJpbmcsICgpID0+IHt9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSIsICJpbXBvcnQgeyBUZXh0UnVuIH0gZnJvbSBcIi4vQWJzdHJhY3REaXNjb3JkTWVzc2FnZVwiO1xuaW1wb3J0IHsgSU1lc3NhZ2VGb3JtYXRzIH0gZnJvbSBcIi4vZm9ybWF0c1wiO1xuXG5cbi8vIC0tLSBDdXN0b20gRXhjZXB0aW9ucyAtLS1cblxuLyoqIFRocm93biB3aGVuIHVuZXhwZWN0ZWQgSFRNTCBpcyBlbmNvdW50ZXJlZCB0aGF0IGNhbid0IGJlIHBhcnNlZC4gKi9cbmV4cG9ydCBjbGFzcyBDb3VsZE5vdFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ291bGROb3RQYXJzZUVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuXG5cbi8qKiBUaHJvd24gd2hlbiBhbiA8bGk+IGlzIGVtcHR5IG9mIG1lc3NhZ2UgY29udGVudDsgZW1wdHkgPGxpPidzIGFyZSBjb21tb24gd2hlbiBjb3B5LXBhc3RpbmcgZGlzY29yZCBtZXNzYWdlcy4gXG4gKiBNZWFudCB0byBiZSBjYXVnaHQgYnkgRGlzY29yZENvbnZlcnNhdGlvbi4gKi9cbmV4cG9ydCBjbGFzcyBFbXB0eU1lc3NhZ2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFbXB0eU1lc3NhZ2VFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cblxuXG4vLyAtLS0gRnVuY3Rpb25zIGNhbGxlZCB1cG9uIGVsc2V3aGVyZSAtLS1cbi8qKiBSdW5zIHRocm91Z2ggYSA8ZGl2IGlkPVwibWVzc2FnZS1jb250ZW50LS4uLlwiPidzIGNoaWxkcmVuIGFuZCB0dXJucyB0aGVtIGludG8gVGV4dFJ1bnMuXG4gKiBcbiAqICBUaGUgY2hpbGRyZW4gd2lsbCBiZSA8c3Ryb25nPiwgPHU+LCA8aDE+Li4uIHRhZ3MgdG8gZGVub3RlIHRoZWlyIGZvcm1hdHRpbmc7IHRoaXMgYWxsb3dzIHVzXG4gKiAgdG8gcHVzaCB0aGVtIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNZXNzYWdlVGV4dChtZXNzYWdlQ29udGVudEVsZW1zOiBIVE1MQ29sbGVjdGlvbik6IFRleHRSdW5bXSB7XG4gICAgY29uc3QgdGV4dFJ1bnM6IFRleHRSdW5bXSA9IFtdXG5cbiAgICBmb3IoY29uc3QgZWxlbSBvZiBBcnJheS5mcm9tKG1lc3NhZ2VDb250ZW50RWxlbXMpKXtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGVtb2ppcy9jdXN0b20gZW1vamlzOyBwYXJzZSB0aGVtXG4gICAgICAgIGlmKC9eZW1vamlDb250YWluZXIvLnRlc3QoZWxlbS5jbGFzc05hbWUpKXtcbiAgICAgICAgICAgIGNvbnN0IGltZ0VsZW0gPSBlbGVtLmNoaWxkcmVuWzBdIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICBpZighaW1nRWxlbSl7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvdWxkTm90UGFyc2VFcnJvcihcInBhcnNlTWVzc2FnZVRleHQ6IE5vIGltZyBlbGVtZW50IGZvdW5kIGluIHNwYW4uZW1vamlDb250YWluZXJcIik7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZigvXjouKzokLy50ZXN0KGltZ0VsZW0uYWx0KSl7ICAvLyBJZiBpdCdzIGEgY3VzdG9tIGVtb2ppLCB0aGVuIGFsdCB0ZXh0IGlzICc6ZW1vamlOYW1lOidcbiAgICAgICAgICAgICAgICB0ZXh0UnVucy5wdXNoKHt0eXBlOiBcImN1c3RvbUVtb2ppXCIsIGNvbnRlbnQ6IGltZ0VsZW0uc3JjfSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gSWYgaXQncyBhIHVuaWNvZGUgZW1vamksIHRoZW4gYWx0IHRleHQgaXMgdGhlIHVuaWNvZGUgZW1vamlcbiAgICAgICAgICAgICAgICB0ZXh0UnVucy5wdXNoKHt0eXBlOiBcImVtb2ppXCIsIGNvbnRlbnQ6IGltZ0VsZW0uYWx0fSk7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAgICBcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBtZXNzYWdlIGhhcyB0ZXh0OyBwYXJzZSBpdCBhbG9uZyB3aXRoIGl0cyBmb3JtYXRcbiAgICAgICAgbGV0IHRleHRDb250ZW50ID0gZWxlbS50ZXh0Q29udGVudDtcbiAgICAgICAgaWYoIXRleHRDb250ZW50KXtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb3VsZE5vdFBhcnNlRXJyb3IoXCJwYXJzZU1lc3NhZ2VUZXh0OiBNZXNzYWdlIHJ1biBjb250YWlucyBuZWl0aGVyIHRleHQgY29udGVudCBub3IgZW1vamlcIilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBuZXdsaW5lIGluIHRoZSBtZXNzYWdlLCBzdGFydCB0aGUgbmV4dCBsaW5lIGluIGEgbmV3IHF1b3RlXG4gICAgICAgIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZShcIlxcblwiLCBcIlxcbj5cIik7XG5cblxuICAgICAgICAvLyBDaGVjayB0aGUgdGhlIHR5cGUgb2YgYSBub2RlIHRvIGRldGVybWluZSB3aGF0IGtpbmQgb2YgZm9ybWF0dGluZyB0aGUgdGV4dCBoYXMuXG4gICAgICAgIHN3aXRjaChlbGVtLm5vZGVOYW1lKXtcbiAgICAgICAgICAgIGNhc2UgXCJFTVwiOiB7IC8vIGl0YWxpY3NcbiAgICAgICAgICAgICAgICB0ZXh0UnVucy5wdXNoKHt0eXBlOiBcIml0YWxpY3NcIiwgY29udGVudDogdGV4dENvbnRlbnR9KTsgYnJlYWs7XG4gICAgICAgICAgICB9ICAgIFxuXG4gICAgICAgICAgICBjYXNlIFwiU1RST05HXCI6IHsgLy8gYm9sZFxuICAgICAgICAgICAgICAgIHRleHRSdW5zLnB1c2goe3R5cGU6IFwiYm9sZFwiLCBjb250ZW50OiB0ZXh0Q29udGVudH0pOyBicmVhaztcbiAgICAgICAgICAgIH0gICAgXG5cbiAgICAgICAgICAgIGNhc2UgXCJVXCI6IHsgLy8gdW5kZXJsaW5lXG4gICAgICAgICAgICAgICAgdGV4dFJ1bnMucHVzaCh7dHlwZTogXCJ1bmRlcmxpbmVcIiwgY29udGVudDogdGV4dENvbnRlbnR9KTsgYnJlYWs7XG4gICAgICAgICAgICB9ICAgIFxuXG4gICAgICAgICAgICBjYXNlIFwiU1wiOiB7ICAvLyBzdHJpa2V0aHJvdWdoXG4gICAgICAgICAgICAgICAgdGV4dFJ1bnMucHVzaCh7dHlwZTogXCJzdHJpa2V0aHJvdWdoXCIsIGNvbnRlbnQ6IHRleHRDb250ZW50fSk7IGJyZWFrO1xuICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSBcIkgxXCI6IHsgIC8vIEhlYWRpbmcgMVxuICAgICAgICAgICAgICAgIHRleHRSdW5zLnB1c2goe3R5cGU6IFwiaDFcIiwgY29udGVudDogdGV4dENvbnRlbnR9KTsgYnJlYWs7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIFwiSDJcIjogeyAgLy8gSGVhZGluZyAyXG4gICAgICAgICAgICAgICAgdGV4dFJ1bnMucHVzaCh7dHlwZTogXCJoMlwiLCBjb250ZW50OiB0ZXh0Q29udGVudH0pOyBicmVhaztcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhc2UgXCJIM1wiOiB7ICAvLyBIZWFkaW5nIDNcbiAgICAgICAgICAgICAgICB0ZXh0UnVucy5wdXNoKHt0eXBlOiBcImgzXCIsIGNvbnRlbnQ6IHRleHRDb250ZW50fSk7IGJyZWFrO1xuICAgICAgICAgICAgfSAgICBcblxuICAgICAgICAgICAgY2FzZSBcIlRJTUVcIjogeyAgLy8gKGVkaXRlZCkgbWFya1xuICAgICAgICAgICAgICAgIHRleHRSdW5zLnB1c2goe3R5cGU6IFwiZWRpdGVkXCIsIGNvbnRlbnQ6IChlbGVtIGFzIEhUTUxUaW1lRWxlbWVudCkuZGF0ZVRpbWV9KTsgYnJlYWs7XG4gICAgICAgICAgICB9ICAgIFxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgLy8gUXVvdGU7IHVzZXMgYSBnZW5lcmljIDxzcGFuPiB0YWcgYW5kIGlzIGluc3RlYWQgaWRlbnRpZmllZCBieSBpdHMgY2xhc3MgbmFtZS5cbiAgICAgICAgICAgICAgICAvLyBBcHBlYXJzIGFzIGNsYXNzPVwiYmxvY2txdW90ZS0yQWtkREhcIiB0aGUgbGFzdCBzaXggYWxwaGFudW1zIGJlaW5nIHJhbmRvbSwgXG4gICAgICAgICAgICAgICAgLy8gaGVuY2Ugd2h5IHdlIGRvIGEgcmVnZXggb24gdGhlIGZ1bGwgY2xhc3MgbmFtZS5cbiAgICAgICAgICAgICAgICBpZigvYmxvY2txdW90ZS8udGVzdChlbGVtLmNsYXNzTmFtZSkpe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0UnVucy5wdXNoKHt0eXBlOiBcInF1b3RlXCIsIGNvbnRlbnQ6IHRleHRDb250ZW50fSk7IFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBObyBzcGVjaWFsIHN0eWxpbmcgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFJ1bnMucHVzaCh7dHlwZTogXCJkZWZhdWx0XCIsIGNvbnRlbnQ6IHRleHRDb250ZW50fSk7XG4gICAgICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH0gICAgXG4gICAgfSAgICBcblxuICAgIHJldHVybiB0ZXh0UnVucztcbn0gICAgXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWVzc2FnZUF0dGFjaG1lbnRzKG1lc3NhZ2VBY2Nlc3NvcnlFbGVtOiBFbGVtZW50KTogc3RyaW5nW10ge1xuICAgIC8vIEVsZW1lbnQgbG9va3MgbGlrZSA8ZGl2IGlkPVwibWVzc2FnZS1hY2Nlc3Nvcmllcy0xMTQzMzIyNTQxODA5NzUwMDU2XCI+IGFuZCBjb250YWlucyBhbGwgaW1hZ2VzXG4gICAgaWYobWVzc2FnZUFjY2Vzc29yeUVsZW0ubm9kZU5hbWUgIT0gXCJESVZcIiB8fCAoIS9tZXNzYWdlLWFjY2Vzc29yaWVzLy50ZXN0KG1lc3NhZ2VBY2Nlc3NvcnlFbGVtLmlkKSkpe1xuICAgICAgICB0aHJvdyBuZXcgQ291bGROb3RQYXJzZUVycm9yKCdtZXNzYWdlQWNjZXNzb3J5RWxlbSBub3QgPGRpdiBpZD1cIm1lc3NhZ2UtYWNjZXNzb3JpZXMuLi5cIj4nKVxuICAgIH0gICAgXG5cbiAgICBjb25zdCBtZXNzYWdlQWNjZXNzb3J5SW1hZ2VzID0gQXJyYXkuZnJvbShtZXNzYWdlQWNjZXNzb3J5RWxlbS5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpKSBhcyBIVE1MSW1hZ2VFbGVtZW50W107XG4gICAgcmV0dXJuIG1lc3NhZ2VBY2Nlc3NvcnlJbWFnZXMubWFwKChpbWcpID0+IHtyZXR1cm4gaW1nLnNyY30pO1xufSAgICBcblxuXG5leHBvcnQgZnVuY3Rpb24gdGV4dFJ1bnNUb01hcmtkb3duKHRleHRSdW5zOiBUZXh0UnVuW10sIGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyk6IHN0cmluZyB7XG4gICAgY29uc3QgbWFya2Rvd25BcnJheTogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvcihjb25zdCBydW4gb2YgdGV4dFJ1bnMpe1xuICAgICAgICBjb25zdCBtYXJrZG93biA9IGZvcm1hdHNbcnVuLnR5cGVdKHJ1bi5jb250ZW50KTtcbiAgICAgICAgbWFya2Rvd25BcnJheS5wdXNoKG1hcmtkb3duKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFya2Rvd25BcnJheS5qb2luKFwiXCIpXG59XG4iLCAiaW1wb3J0IERpc2NvcmRNZXNzYWdlUmVwbHkgZnJvbSBcIi4vRGlzY29yZE1lc3NhZ2VSZXBseVwiO1xuaW1wb3J0IHsgSU1lc3NhZ2VGb3JtYXRzIH0gZnJvbSBcIi4vZm9ybWF0c1wiO1xuXG5cbmV4cG9ydCB0eXBlIFRleHRSdW4gPSB7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIHR5cGU6XG4gICAgXCJkZWZhdWx0XCIgfFxuICAgIFwiaXRhbGljc1wiIHxcbiAgICBcImJvbGRcIiB8XG4gICAgXCJ1bmRlcmxpbmVcIiB8XG4gICAgXCJzdHJpa2V0aHJvdWdoXCIgfFxuICAgIFwiaDFcIiB8XG4gICAgXCJoMlwiIHxcbiAgICBcImgzXCIgfFxuICAgIFwicXVvdGVcIiB8XG4gICAgXCJlZGl0ZWRcIiB8XG4gICAgXCJlbW9qaVwiIHxcbiAgICBcImN1c3RvbUVtb2ppXCI7XG59O1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdERpc2NvcmRNZXNzYWdlIHtcbiAgICAvLyBjb250ZW50IHdpbGwgZXhpc3Qgb24gYSBtZXNzYWdlLCBidXQgdGhlcmUgbWlnaHQgYm90aCBiZSBvbmx5IGF0dGFjaG1lbnRzIGFuZFxuICAgIC8vIG5vIHRleHQgb24gYSBtZXNzYWdlLCBvciBvbmx5IHRleHQgYnV0IG5vdCBhdHRhY2htZW50c1xuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdGV4dFJ1bnM/OiBUZXh0UnVuW107XG4gICAgICAgIGF0dGFjaG1lbnRzPzogc3RyaW5nW107IC8vIGNvbnRhaW5zIFVSTCB0byBhdHRhY2htZW50KHMpXG4gICAgfTtcblxuICAgIC8vIG1pZ2h0IG5vdCBiZSBwcmVzZW50IGlmIHVzZXIgc2VsZWN0ZWQgb25seSB0aGUgbWVzc2FnZSB0ZXh0IGZvciBjb3B5LFxuICAgIC8vIG9yIGlmIHVzZXIgY29waWVkIGhlYWRlciBvbmx5IHBhcnRpYWxseSAoaS5lLiBvbmx5IGNvcGllZCBoYWxmIG9mIHRoZSB0aW1lc3RhbXApXG4gICAgaGVhZGVyPzoge1xuICAgICAgICBuaWNrbmFtZTogc3RyaW5nO1xuICAgICAgICB0aW1lRXhhY3Q/OiBudW1iZXI7IC8vIHVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICB0aW1lUmVsYXRpdmU/OiBzdHJpbmc7XG4gICAgICAgIGF2YXRhcj86IHN0cmluZzsgLy8gdXJsXG4gICAgICAgIHJlcGx5PzogRGlzY29yZE1lc3NhZ2VSZXBseTsgLy8gbm90IGV2ZXJ5IG1lc3NhZ2UgaXMgYSByZXBseSB0byBhbm90aGVyIG1lc3NhZ2VcbiAgICB9O1xuXG5cblxuICAgIGNvbnN0cnVjdG9yKE1FU1NBR0VfTEk6IEVsZW1lbnQpIHtcbiAgICAgICAgLy8gdG8gYmUgZmlsbGVkIGJ5IGltcGxlbWVudGF0aW9uOyBETyBOT1QgQUREIExPR0lDIEhFUkUhXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbnN0cnVjdE1lc3NhZ2VIZWFkZXIoTUVTU0FHRV9MSTogRWxlbWVudCk6IEFic3RyYWN0RGlzY29yZE1lc3NhZ2VbXCJoZWFkZXJcIl07XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY29uc3RydWN0TWVzc2FnZUNvbnRlbnQoTUVTU0FHRV9MSTogRWxlbWVudCk6IEFic3RyYWN0RGlzY29yZE1lc3NhZ2VbXCJjb250ZW50XCJdO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldE1lc3NhZ2VUZXh0RWxlbXMoTUVTU0FHRV9MSTogRWxlbWVudCk6IEhUTUxDb2xsZWN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHRvTWFya2Rvd24oZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKTogc3RyaW5nO1xufVxuXG4iLCAiaW1wb3J0IHsgVGV4dFJ1biB9IGZyb20gXCIuL0Fic3RyYWN0RGlzY29yZE1lc3NhZ2VcIlxuaW1wb3J0IHsgQWJzdHJhY3REaXNjb3JkTWVzc2FnZSB9IGZyb20gXCIuL0Fic3RyYWN0RGlzY29yZE1lc3NhZ2VcIlxuaW1wb3J0IHsgSU1lc3NhZ2VGb3JtYXRzIH0gZnJvbSBcIi4vZm9ybWF0c1wiXG5pbXBvcnQgeyBFbXB0eU1lc3NhZ2VFcnJvciwgdGV4dFJ1bnNUb01hcmtkb3duIH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IHsgQ291bGROb3RQYXJzZUVycm9yIH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IHsgcGFyc2VNZXNzYWdlVGV4dCB9IGZyb20gXCIuL3V0aWxzXCJcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNjb3JkTWVzc2FnZVJlcGx5IGV4dGVuZHMgQWJzdHJhY3REaXNjb3JkTWVzc2FnZSB7XG4gICAgY29udGVudDoge1xuICAgICAgICB0ZXh0UnVuczogVGV4dFJ1bltdXG4gICAgfVxuICAgIGhlYWRlcjoge1xuICAgICAgICBuaWNrbmFtZTogc3RyaW5nXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoUkVQTFlfRElWOiBFbGVtZW50KXtcbiAgICAgICAgc3VwZXIoUkVQTFlfRElWKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBhIFJFUExZX0RJViB3YXMgYWN0dWFsbHkgcGFzc2VkIGluXG4gICAgICAgIGlmKCEvXm1lc3NhZ2UtcmVwbHktY29udGV4dC8udGVzdChSRVBMWV9ESVYuaWQpKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoUkVQTFlfRElWKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb3VsZE5vdFBhcnNlRXJyb3IoYEV4cGVjdGVkIDxkaXYgaWQ9XCJtZXNzYWdlLXJlcGx5LWNvbnRleHQuLi5cIj5gKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gUGFyc2UgaGVhZGVyIChqdXN0IHRoZSBuaWNrbmFtZSBpbiB0aGlzIGNhc2UpXG4gICAgICAgIHRoaXMuaGVhZGVyID0gdGhpcy5jb25zdHJ1Y3RNZXNzYWdlSGVhZGVyKFJFUExZX0RJVik7XG5cblxuICAgICAgICAvLyBQYXJzZSBjb250ZW50XG4gICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuY29uc3RydWN0TWVzc2FnZUNvbnRlbnQoUkVQTFlfRElWKVxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdE1lc3NhZ2VDb250ZW50KFJFUExZX0RJVjogRWxlbWVudCk6IERpc2NvcmRNZXNzYWdlUmVwbHlbXCJjb250ZW50XCJdIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZUNvbnRlbnRFbGVtcyA9IHRoaXMuZ2V0TWVzc2FnZVRleHRFbGVtcyhSRVBMWV9ESVYpXG5cbiAgICAgICAgaWYoIW1lc3NhZ2VDb250ZW50RWxlbXMpe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihSRVBMWV9ESVYpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVtcHR5TWVzc2FnZUVycm9yKGBNZXNzYWdlIGNvbnRhaW5zIG5vIHRleHQgY29udGVudGApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgdGV4dFJ1bnM6IHBhcnNlTWVzc2FnZVRleHQobWVzc2FnZUNvbnRlbnRFbGVtcykgfTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0TWVzc2FnZVRleHRFbGVtcyhSRVBMWV9ESVY6IEVsZW1lbnQpOiBIVE1MQ29sbGVjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiBSRVBMWV9ESVYucXVlcnlTZWxlY3RvcihcImRpdltpZF49J21lc3NhZ2UtY29udGVudCddXCIpPy5jaGlsZHJlbjtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RNZXNzYWdlSGVhZGVyKFJFUExZX0RJVjogRWxlbWVudCk6IERpc2NvcmRNZXNzYWdlUmVwbHlbXCJoZWFkZXJcIl0ge1xuICAgICAgICBjb25zdCBuaWNrbmFtZSA9IFJFUExZX0RJVi5xdWVyeVNlbGVjdG9yKFwiW2NsYXNzXj0ndXNlcm5hbWUtJ11cIik/LnRleHRDb250ZW50O1xuICAgICAgICBpZighbmlja25hbWUpe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihSRVBMWV9ESVYpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvdWxkTm90UGFyc2VFcnJvcihgRXhwZWN0ZWQgYSA8c3BhbiBjbGFzcz0ndXNlcm5hbWUtJz4gaW4gZGl2LCBidXQgcXVlcnlTZWxlY3RvciBjb3VsZG4ndCBsb2NhdGUgb25lYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge25pY2tuYW1lOiBuaWNrbmFtZX07XG4gICAgfVxuXG5cbiAgICB0b01hcmtkb3duKGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyk6IHN0cmluZyB7XG4gICAgICAgIGxldCB0ZXh0UnVuTWFya2Rvd246IHN0cmluZyA9IHRleHRSdW5zVG9NYXJrZG93bih0aGlzLmNvbnRlbnQudGV4dFJ1bnMsIGZvcm1hdHMpO1xuICAgICAgICB0ZXh0UnVuTWFya2Rvd24gPSB0ZXh0UnVuTWFya2Rvd24ucmVwbGFjZSgnXFxuJywgJ1xcbj4+JylcbiAgICAgICAgY29uc29sZS5sb2coXCI/Pz8/XCIpXG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXBseU1hcmtkb3duOiBzdHJpbmcgPSBmb3JtYXRzWydyZXBseSddKHRleHRSdW5NYXJrZG93biwgdGhpcy5oZWFkZXIubmlja25hbWUpXG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHNbJ3JlcGx5J10ocmVwbHlNYXJrZG93biwgdGhpcy5oZWFkZXIubmlja25hbWUpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgRW1wdHlNZXNzYWdlRXJyb3IsIHBhcnNlTWVzc2FnZUF0dGFjaG1lbnRzLCB0ZXh0UnVuc1RvTWFya2Rvd24gfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgQ291bGROb3RQYXJzZUVycm9yIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBEaXNjb3JkTWVzc2FnZVJlcGx5IGZyb20gXCIuL0Rpc2NvcmRNZXNzYWdlUmVwbHlcIjtcbmltcG9ydCB7IElNZXNzYWdlRm9ybWF0cyB9IGZyb20gXCIuL2Zvcm1hdHNcIjtcbmltcG9ydCB7IHBhcnNlTWVzc2FnZVRleHQgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5cbmV4cG9ydCB0eXBlIFRleHRSdW4gPSB7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIHR5cGU6XG4gICAgXCJkZWZhdWx0XCIgfFxuICAgIFwiaXRhbGljc1wiIHxcbiAgICBcImJvbGRcIiB8XG4gICAgXCJ1bmRlcmxpbmVcIiB8XG4gICAgXCJzdHJpa2V0aHJvdWdoXCIgfFxuICAgIFwiaDFcIiB8XG4gICAgXCJoMlwiIHxcbiAgICBcImgzXCIgfFxuICAgIFwicXVvdGVcIiB8XG4gICAgXCJlZGl0ZWRcIiB8XG4gICAgXCJlbW9qaVwiIHxcbiAgICBcImN1c3RvbUVtb2ppXCI7XG59O1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdERpc2NvcmRNZXNzYWdlIHtcbiAgICAvLyBjb250ZW50IHdpbGwgZXhpc3Qgb24gYSBtZXNzYWdlLCBidXQgdGhlcmUgbWlnaHQgYm90aCBiZSBvbmx5IGF0dGFjaG1lbnRzIGFuZFxuICAgIC8vIG5vIHRleHQgb24gYSBtZXNzYWdlLCBvciBvbmx5IHRleHQgYnV0IG5vdCBhdHRhY2htZW50c1xuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdGV4dFJ1bnM/OiBUZXh0UnVuW107XG4gICAgICAgIGF0dGFjaG1lbnRzPzogc3RyaW5nW107IC8vIGNvbnRhaW5zIFVSTCB0byBhdHRhY2htZW50KHMpXG4gICAgfTtcbiAgICBcbiAgICAvLyBtaWdodCBub3QgYmUgcHJlc2VudCBpZiB1c2VyIHNlbGVjdGVkIG9ubHkgdGhlIG1lc3NhZ2UgdGV4dCBmb3IgY29weSxcbiAgICAvLyBvciBpZiB1c2VyIGNvcGllZCBoZWFkZXIgb25seSBwYXJ0aWFsbHkgKGkuZS4gb25seSBjb3BpZWQgaGFsZiBvZiB0aGUgdGltZXN0YW1wKVxuICAgIGhlYWRlcj86IHtcbiAgICAgICAgbmlja25hbWU6IHN0cmluZztcbiAgICAgICAgdGltZUV4YWN0PzogbnVtYmVyOyAvLyB1bml4IHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgdGltZVJlbGF0aXZlPzogc3RyaW5nO1xuICAgICAgICBhdmF0YXI/OiBzdHJpbmc7IC8vIHVybFxuICAgICAgICByZXBseT86IERpc2NvcmRNZXNzYWdlUmVwbHk7ICAvLyBub3QgZXZlcnkgbWVzc2FnZSBpcyBhIHJlcGx5IHRvIGFub3RoZXIgbWVzc2FnZVxuICAgIH07XG5cblxuXG4gICAgY29uc3RydWN0b3IoTUVTU0FHRV9MSTogRWxlbWVudCl7XG4gICAgICAgIC8vIGZpbGxcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY29uc3RydWN0TWVzc2FnZUhlYWRlcihNRVNTQUdFX0xJOiBFbGVtZW50KTogQWJzdHJhY3REaXNjb3JkTWVzc2FnZVtcImhlYWRlclwiXTtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjb25zdHJ1Y3RNZXNzYWdlQ29udGVudChNRVNTQUdFX0xJOiBFbGVtZW50KTogQWJzdHJhY3REaXNjb3JkTWVzc2FnZVtcImNvbnRlbnRcIl07XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0TWVzc2FnZVRleHRFbGVtcyhNRVNTQUdFX0xJOiBFbGVtZW50KTogSFRNTENvbGxlY3Rpb24gfCB1bmRlZmluZWQ7XG4gICAgXG4gICAgcHVibGljIGFic3RyYWN0IHRvTWFya2Rvd24oZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc2NvcmRNZXNzYWdlIGV4dGVuZHMgQWJzdHJhY3REaXNjb3JkTWVzc2FnZSB7XG5cbiAgICAvLyBQcm9wZXJ0aWVzIGFzIHBlciBpbnRlcmZhY2VcbiAgICBjb250ZW50OiB7XG4gICAgICAgIHRleHRSdW5zPzogVGV4dFJ1bltdLCAgXG4gICAgICAgIGF0dGFjaG1lbnRzPzogc3RyaW5nW11cbiAgICB9ICAgIFxuICAgIFxuICAgIGhlYWRlcj86IHtcbiAgICAgICAgbmlja25hbWU6IHN0cmluZyxcbiAgICAgICAgdGltZUV4YWN0OiBudW1iZXIsXG4gICAgICAgIHRpbWVSZWxhdGl2ZTogc3RyaW5nLFxuICAgICAgICBhdmF0YXI/OiBzdHJpbmcsXG4gICAgICAgIHJlcGx5PzogRGlzY29yZE1lc3NhZ2VSZXBseVxuICAgIH0gICAgXG4gICAgXG4gICAgXG4gICAgY29uc3RydWN0b3IoTUVTU0FHRV9MSTogRWxlbWVudCkge1xuICAgICAgICBzdXBlcihNRVNTQUdFX0xJKTtcblxuICAgICAgICAvLyBDaGVjayBpZiA8bGk+IGVtcHR5ID0+IGVtcHR5IDxsaT4ncyBhcmUgY29tbW9uIHdoZW5cbiAgICAgICAgLy8gY29weS1wYXN0aW5nIERpc2NvcmQgbWVzc2FnZXMgYW5kIHNob3VsZCBiZSBpZ25vcmVkXG4gICAgICAgIGlmKCEoTUVTU0FHRV9MSS5maXJzdEVsZW1lbnRDaGlsZD8uaW5uZXJIVE1MKSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW1wdHlNZXNzYWdlRXJyb3IoXCI8bGk+IHNlZW1zIHRvIGJlIGVtcHR5XCIpXG4gICAgICAgIH0gICAgXG5cblxuICAgICAgICAvLyBQYXJzZSB0aGUgaGVhZGVyXG4gICAgICAgIC8vIE1heSB0aHJvdyBDb3VsZE5vdFBhcnNlRXJyb3IgaWYsIGZvciBleGFtcGxlLCBoZWFkZXIgd2Fzbid0IGNvcGllZCBhdCBhbGwgb3Igd2hlblxuICAgICAgICAvLyBvbmx5IGhhbGYgb2YgYSB0aW1lc3RhbXAgd2FzIGNvcGllZCBpbi4gSW4gdGhlc2UgY2FzZXMsIHdlIHNraXAgY29uc3RydWN0aW5nIHRoZSBoZWFkZXIuIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXIgPSB0aGlzLmNvbnN0cnVjdE1lc3NhZ2VIZWFkZXIoTUVTU0FHRV9MSSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZighKGVycm9yIGluc3RhbmNlb2YgQ291bGROb3RQYXJzZUVycm9yKSl7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICB9ICAgIFxuXG4gICAgICAgIC8vIFBhcnNlIHRoZSBtZXNzYWdlIGNvbnRlbnQ7IGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5jb25zdHJ1Y3RNZXNzYWdlQ29udGVudChNRVNTQUdFX0xJKVxuICAgIH0gICAgXG5cblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RNZXNzYWdlSGVhZGVyKE1FU1NBR0VfTEk6IEVsZW1lbnQpOiBEaXNjb3JkTWVzc2FnZVtcImhlYWRlclwiXSB7XG4gICAgICAgIGNvbnN0IGhlYWRlckRpdiA9IE1FU1NBR0VfTEkucXVlcnlTZWxlY3RvcihcImgzW2NsYXNzXj0naGVhZGVyJ11cIik7XG4gICAgICAgIGlmKCFoZWFkZXJEaXYpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvdWxkTm90UGFyc2VFcnJvcihgTm8gPGgzIGNsYXNzPSdoZWFkZXIuLi4nPiBmb3VuZGApO1xuICAgICAgICB9ICAgIFxuXG4gICAgICAgIC8vIC0tLSBQYXJzZSBuaWNrbmFtZSwgZ3VhcmFudGVlZCB0byBleGlzdCBpZiBhIG1lc3NhZ2UgaGVhZGVyIGV4aXN0cyAtLS1cbiAgICAgICAgY29uc3Qgbmlja25hbWUgPSBoZWFkZXJEaXYucXVlcnlTZWxlY3RvcihcInNwYW5bY2xhc3NePSd1c2VybmFtZSddXCIpPy50ZXh0Q29udGVudDtcbiAgICAgICAgaWYoIW5pY2tuYW1lKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb3VsZE5vdFBhcnNlRXJyb3IoYE1lc3NhZ2UgSGVhZGVyIGV4aXN0cywgYnV0IGNvdWxkIG5vdCBmaW5kIG5pY2tuYW1lYCk7XG4gICAgICAgIH0gICAgXG5cbiAgICAgICAgXG4gICAgICAgIC8vIC0tLSBQYXJzZSB0aW1lLGhlYWRlckRpdnVhcmFudGVlZCB0byBleGlzdCBpZiBhIG1lc3NhZ2UgaGVhZGVyIGV4aXN0cyAtLS1jdCB0aW1lc3RhbXBoZWFkZXJsaVxuICAgICAgICBjb25zdCB0aW1lRXhhY3QgPSBoZWFkZXJEaXYucXVlcnlTZWxlY3RvcihcInRpbWVcIik/LmRhdGVUaW1lXG4gICAgICAgIGxldCB0aW1lUmVsYXRpdmUgPSBoZWFkZXJEaXYucXVlcnlTZWxlY3RvcihcInRpbWVcIik/LnRleHRDb250ZW50OyAgLy8gR2V0cyB3aGF0J3MgcHJpbnRlZCBvbiB0aGUgbWVzc2FnZTsgaS5lLiBcIiAtLSBZZXN0ZXJkYXkgYXQgMTI6MDhcIlxuICAgICAgICBcbiAgICAgICAgaWYoISh0aW1lRXhhY3QgJiYgdGltZVJlbGF0aXZlKSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ291bGROb3RQYXJzZUVycm9yKGBNZXNzYWdlIEhlYWRlciBleGlzdHMsIGJ1dCBjb3VsZCBub3QgZmluZCB0aW1lYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSBmaXJzdCBcIiAtLSBcIiBmcm9tIHRpbWUgdGV4dCBcIiAtLSBUb2RheSBhdCAxODo0M1wiXG4gICAgICAgICAgICBjb25zdCByZWdleFRpbWVSZWxhdGl2ZSA9IC9cdTIwMTQgKC4qKS8uZXhlYyh0aW1lUmVsYXRpdmUpOyAgXG4gICAgICAgICAgICBpZighKHJlZ2V4VGltZVJlbGF0aXZlICYmIHJlZ2V4VGltZVJlbGF0aXZlLmxlbmd0aCA9PSAyKSl7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvdWxkTm90UGFyc2VFcnJvcihcIlJlbGF0aXZlIHRpbWUgY291bGQgbm90IGJlIHBhcnNlZCBmcm9tIFJlZ2V4XCIpO1xuICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGltZVJlbGF0aXZlID0gcmVnZXhUaW1lUmVsYXRpdmVbMV1cbiAgICAgICAgfSAgICBcbiAgICAgICAgXG5cbiAgICAgICAgLy8gLS0tIFBhcnNlIGF2YXRhciwgaWYgaXQgZXhpc3RzLiBBdmF0YXIgaXMgc3RvcmVkIGluIHNpc3RlciBvZiBoZWFkZXJEaXYgLS0tIFxuICAgICAgICBjb25zdCBhdmF0YXJEaXYgPSBNRVNTQUdFX0xJLnF1ZXJ5U2VsZWN0b3IoXCJpbWdbY2xhc3NePSdhdmF0YXInXVwiKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgICAgICBsZXQgYXZhdGFyVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICBpZihhdmF0YXJEaXYpe1xuICAgICAgICAgICAgYXZhdGFyVXJsID0gYXZhdGFyRGl2LnNyYztcbiAgICAgICAgfSAgICBcblxuXG4gICAgICAgIC8vIC0tLSBQYXJzZSBNZXNzYWdlUmVwbHksIGlmIGl0IGV4aXN0cy4gUmVwbHkgaXMgc3RvcmVkIGluIHNpc3RlciBvZiBoZWFkZXJEaXYgLS0tXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VSZXBseURpdiA9IE1FU1NBR0VfTEkucXVlcnlTZWxlY3RvcihcImRpdltpZF49J21lc3NhZ2UtcmVwbHknXCIpO1xuICAgICAgICBsZXQgbWVzc2FnZVJlcGx5ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZihtZXNzYWdlUmVwbHlEaXYpe1xuICAgICAgICAgICAgbWVzc2FnZVJlcGx5ID0gbmV3IERpc2NvcmRNZXNzYWdlUmVwbHkobWVzc2FnZVJlcGx5RGl2KTtcbiAgICAgICAgfSAgICBcbiAgICAgICAgXG5cbiAgICAgICAgLy8gLS0tIENvbnN0cnVjdCBoZWFkZXIgLS0tXG4gICAgICAgIGNvbnN0IGhlYWRlcjogRGlzY29yZE1lc3NhZ2VbXCJoZWFkZXJcIl0gPSB7XG4gICAgICAgICAgICBuaWNrbmFtZTogbmlja25hbWUsXG4gICAgICAgICAgICB0aW1lRXhhY3Q6IERhdGUucGFyc2UodGltZUV4YWN0KSxcbiAgICAgICAgICAgIHRpbWVSZWxhdGl2ZTogdGltZVJlbGF0aXZlXG4gICAgICAgIH0gICAgXG4gICAgICAgIGlmKGF2YXRhclVybCkgaGVhZGVyLmF2YXRhciA9IGF2YXRhclVybDtcbiAgICAgICAgaWYobWVzc2FnZVJlcGx5KSBoZWFkZXIucmVwbHkgPSBtZXNzYWdlUmVwbHk7XG5cbiAgICAgICAgcmV0dXJuIGhlYWRlcjtcbiAgICB9ICAgIFxuXG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0TWVzc2FnZUNvbnRlbnQoTUVTU0FHRV9MSTogRWxlbWVudCk6IERpc2NvcmRNZXNzYWdlW1wiY29udGVudFwiXSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0RWxlbXMgPSB0aGlzLmdldE1lc3NhZ2VUZXh0RWxlbXMoTUVTU0FHRV9MSSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VBdHRhY2htZW50RWxlbSA9IE1FU1NBR0VfTEkucXVlcnlTZWxlY3RvcihcImRpdltpZF49J21lc3NhZ2UtYWNjZXNzb3JpZXMnXVwiKTtcbiAgICAgICAgXG5cbiAgICAgICAgaWYoIW1lc3NhZ2VUZXh0RWxlbXMgJiYgIW1lc3NhZ2VBdHRhY2htZW50RWxlbSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW1wdHlNZXNzYWdlRXJyb3IoYE1lc3NhZ2UgY29udGFpbnMgbmVpdGhlciB0ZXh0IGNvbnRlbnQgbm9yIGF0dGFjaG1lbnRzYCk7XG4gICAgICAgIH0gICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udGVudDogUmVjb3JkPHN0cmluZywgVGV4dFJ1bltdIHwgc3RyaW5nW10+ID0ge31cbiAgICAgICAgaWYobWVzc2FnZVRleHRFbGVtcyl7XG4gICAgICAgICAgICBjb250ZW50LnRleHRSdW5zID0gcGFyc2VNZXNzYWdlVGV4dChtZXNzYWdlVGV4dEVsZW1zKTtcbiAgICAgICAgfSAgICBcbiAgICAgICAgaWYobWVzc2FnZUF0dGFjaG1lbnRFbGVtKXtcbiAgICAgICAgICAgIGNvbnRlbnQuYXR0YWNobWVudHMgPSBwYXJzZU1lc3NhZ2VBdHRhY2htZW50cyhtZXNzYWdlQXR0YWNobWVudEVsZW0pO1xuICAgICAgICB9ICAgIFxuXG5cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSAgICBcbiAgICBcbiAgICBwcm90ZWN0ZWQgZ2V0TWVzc2FnZVRleHRFbGVtcyhNRVNTQUdFX0xJOiBFbGVtZW50KTogSFRNTENvbGxlY3Rpb24gfCB1bmRlZmluZWQgeyAgXG4gICAgICAgIC8vIElmIHRoZSBtZXNzYWdlTGkgY29udGFpbnMgYSByZXBseSB0byBhIGRpZmZlcmVudCBtZXNzYWdlLCB0aGUgdGV4dCBvZiB0aGUgcmVwbHkgd2lsbCBiZSBjYXVnaHQgZmlyc3QgYnkgXG4gICAgICAgIC8vIHF1ZXJ5U2VsZWN0b3IgaWRePSdtZXNzYWdlLWNvbnRlbnQnOyBoZW5jZSB3aHkgd2UgZmlsdGVyIGZvciBhIGRpdiBpZD1ePSdtZXNzYWdlLWNvbnRlbnQnIHRoYXQgaXMgdGhlIGNoaWxkXG4gICAgICAgIC8vIG9mIGEgZGl2IGNsYXNzXj0nY29udGVudHMnIFxuICAgICAgICByZXR1cm4gTUVTU0FHRV9MSS5xdWVyeVNlbGVjdG9yKFwiZGl2W2NsYXNzXj0nY29udGVudHMnXSA+IGRpdltpZF49J21lc3NhZ2UtY29udGVudCddXCIpPy5jaGlsZHJlbjtcbiAgICB9ICAgIFxuXG4gICAgXG4gICAgcHVibGljIHRvTWFya2Rvd24oZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbWFya2Rvd25BcnJheTogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAvLyBOaWNrbmFtZSwgdGltZSwgcmVwbHlcbiAgICAgICAgaWYodGhpcy5oZWFkZXIpe1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuaGVhZGVyLnRpbWVFeGFjdCk7XG5cbiAgICAgICAgICAgIG1hcmtkb3duQXJyYXkucHVzaChcbiAgICAgICAgICAgICAgICBgKioke3RoaXMuaGVhZGVyLm5pY2tuYW1lfSAtICR7ZGF0ZS50b0xvY2FsZVN0cmluZygpfSoqYFxuICAgICAgICAgICAgKSAgICBcblxuICAgICAgICAgICAgaWYodGhpcy5oZWFkZXIucmVwbHkpe1xuICAgICAgICAgICAgICAgIG1hcmtkb3duQXJyYXkucHVzaCh0aGlzLmhlYWRlci5yZXBseS50b01hcmtkb3duKGZvcm1hdHMpKTtcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH0gICAgXG5cbiAgICAgICAgLy8gVGV4dFxuICAgICAgICBpZih0aGlzLmNvbnRlbnQudGV4dFJ1bnMpe1xuICAgICAgICAgICAgbWFya2Rvd25BcnJheS5wdXNoKHRleHRSdW5zVG9NYXJrZG93bih0aGlzLmNvbnRlbnQudGV4dFJ1bnMsIGZvcm1hdHMpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNobWVudHNcbiAgICAgICAgaWYodGhpcy5jb250ZW50LmF0dGFjaG1lbnRzKXtcbiAgICAgICAgICAgIGZvcihjb25zdCB1cmwgb2YgdGhpcy5jb250ZW50LmF0dGFjaG1lbnRzKXtcbiAgICAgICAgICAgICAgICBtYXJrZG93bkFycmF5LnB1c2goYCFbXSgke3VybH0pYClcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH0gICAgXG5cbiAgICAgICAgcmV0dXJuICc+JyArIG1hcmtkb3duQXJyYXkuam9pbihcIlxcbj5cIik7XG4gICAgfSAgICBcbn0gICAgXG5cbiIsICJpbXBvcnQgRGlzY29yZE1lc3NhZ2UgZnJvbSBcIi4vRGlzY29yZE1lc3NhZ2VcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNjb3JkU2luZ2xlTWVzc2FnZSBleHRlbmRzIERpc2NvcmRNZXNzYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlRGl2OiBFbGVtZW50KXtcbiAgICAgICAgc3VwZXIobWVzc2FnZURpdik7ICAgXG4gICAgfVxuICAgIFxuICAgIHByb3RlY3RlZCBnZXRNZXNzYWdlVGV4dEVsZW1zKG1lc3NhZ2VEaXY6IEVsZW1lbnQpOiBIVE1MQ29sbGVjdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIFRoaXMgdHlwZSBvZiBIVE1MIGNhbid0IGNvbnRhaW4gYSByZXBseSwgc28gaXRzIEhUTUwgc3RydWN0dXJlIGlzIG1vcmUgYmFzaWMuXG4gICAgICAgIC8vIFRoZSBtZXNzYWdlIGNvbnRlbnQgaXMgZXhwb3NlZCByaWdodCBhd2F5IGluIGEgZGlyZWN0IGNoaWxkIG9mIHRoZSBtZXNzYWdlIGRpdixcbiAgICAgICAgLy8gc28gd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgLy8gSWYgdGhlIG1lc3NhZ2VMaSBjb250YWlucyBcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VEaXYucXVlcnlTZWxlY3RvcihcImRpdltpZF49J21lc3NhZ2UtY29udGVudCddXCIpPy5jaGlsZHJlbjtcbiAgICB9XG59IiwgImltcG9ydCBEaXNjb3JkTWVzc2FnZSBmcm9tIFwiLi9EaXNjb3JkTWVzc2FnZVwiO1xuaW1wb3J0IERpc2NvcmRTaW5nbGVNZXNzYWdlIGZyb20gXCIuL0Rpc2NvcmRTaW5nbGVNZXNzYWdlXCI7XG5pbXBvcnQgeyBJTWVzc2FnZUZvcm1hdHMgfSBmcm9tIFwiLi9mb3JtYXRzXCI7XG5pbXBvcnQgeyBFbXB0eU1lc3NhZ2VFcnJvciB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb3VsZE5vdFBhcnNlRXJyb3IgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc2NvcmRDb252ZXJzYXRpb24ge1xuICAgIG1lc3NhZ2VzOiBEaXNjb3JkTWVzc2FnZVtdO1xuXG4gICAgXG4gICAgY29uc3RydWN0b3IoRE9NOiBEb2N1bWVudCwgZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKXtcbiAgICAgICAgaWYoIXRoaXMuaXNEaXNjb3JkUGFzdGUoRE9NKSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ291bGROb3RQYXJzZUVycm9yKFwiUGFzdGUgZG9lc24ndCBhcHBlYXIgdG8gYmUgZnJvbSBEaXNjb3JkXCIpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gdGhpcy5jcmVhdGVNZXNzYWdlcyhET00sIGZvcm1hdHMpO1xuICAgIH1cbiAgICBcblxuICAgIHN0YXRpYyBmcm9tUmF3SFRNTChIVE1MOiBzdHJpbmcsIGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyl7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgRE9NOiBEb2N1bWVudCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoSFRNTCwgJ3RleHQvaHRtbCcpO1xuICAgIFxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoRE9NLCBmb3JtYXRzKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgY3JlYXRlTWVzc2FnZXMoRE9NOiBEb2N1bWVudCwgZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKTogRGlzY29yZE1lc3NhZ2VbXSB7XG4gICAgICAgIC8vIEZhY3RvcnkgZm9yIERpc2NvcmQgbWVzc2FnZXMsIGFzIHRoZSBIVE1MIHdlIGdldCBjb21lcyBpbiBkaWZmZXJlbnQgZm9ybWF0czsgXG4gICAgICAgIC8vIDEuKSBBIGZvcm1hdCB3aXRoIHNvbWUgPG9sIGNsYXNzPVwic2Nyb2xsSW5uZXJcIj48bGk+bWVzc2FnZS4uLjwvbGk+PGxpPm1lc3NhZ2UsLCw8L2xpPjwvb2w+XG4gICAgICAgIC8vIDIuKSBBIGZvcm1hdCwgd2hlbiB0aGVyZSdzIGp1c3Qgb25lIG1lc3NhZ2UsIHdpdGggPGgzPnVzZXJuYW1lLCB0aW1lLCBhdmF0YXIuLi48L2gzPjxkaXY+bWVzc2FnZTwvZGl2PlxuICAgICAgICAvLyBGb3JtYXQgIzEgY2FuIGJlIGNvbnN0cnVjdGVkIGJ5IHRoZSBEaXNjb3JkTWVzc2FnZSBjbGFzcywgZm9ybWF0ICMyIGJ5IHRoZSBEaXNjb3JkU2luZ2xlTWVzc2FnZSBjbGFzc1xuICAgICAgICAvL1xuICAgICAgICAvLyBEb24ndCBraWxsIG1lIGZvciB0aGlzLCBJIG9ubHkgbm90aWNlZCB0aGF0IHRoZSBzZWNvbmQgb25lIGV4aXN0cyB3aGVuIEkgd2FzIGFscmVhZHlcbiAgICAgICAgLy8gODAlIGRvbmUgd2l0aCB0aGlzIHBsdWdpbi4gQW5kIHRoYXQncyB0aGUgYmFuZC1haWQgc29sdXRpb24gSSBjaG9zZSB0byBnbyB3aXRoLlxuICAgICAgICAvLyBJZiB5b3UndmUgZ290IHN1Z2dlc3Rpb25zIGZvciBob3cgdG8gbWFrZSB0aGlzIHN1Y2sgbGVzcywgcGxlYXNlIGRvIGxldCBtZSBrbm93LiBcblxuICAgICAgICBjb25zdCBkaXNjb3JkTWVzc2FnZXMgPSBbXVxuXG4gICAgICAgIGNvbnN0IGRvbU9mTWVzc2FnZXM6IEVsZW1lbnRbXSA9IEFycmF5LmZyb20oRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKSk7XG4gICAgICAgIGlmKGRvbU9mTWVzc2FnZXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgZG9tT2ZNZXNzYWdlcyl7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzY29yZE1lc3NhZ2VzLnB1c2gobmV3IERpc2NvcmRNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgICAgICBpZighKGVyciBpbnN0YW5jZW9mIEVtcHR5TWVzc2FnZUVycm9yKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIEVtcHR5IGxpJ3MgYXJlIGV4cGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc2NvcmRNZXNzYWdlcy5wdXNoKG5ldyBEaXNjb3JkU2luZ2xlTWVzc2FnZShET00uYm9keSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc2NvcmRNZXNzYWdlcztcbiAgICB9XG5cblxuICAgIHByaXZhdGUgaXNEaXNjb3JkUGFzdGUoRE9NOiBEb2N1bWVudCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgdGV4dCBtZXNzYWdlXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50RWxlbSA9IERPTS5xdWVyeVNlbGVjdG9yKFwiZGl2W2lkXj0nbWVzc2FnZS1jb250ZW50J11cIik7XG4gICAgICAgIGlmKG1lc3NhZ2VDb250ZW50RWxlbSl7XG4gICAgICAgICAgICAvLyBkaXYgaWQgbXVzdCBhbHdheXMgYmUgZm9sbG93ZWQgYnkgMTktZGlnaXQgbWVzc2FnZSBpZFxuICAgICAgICAgICAgaWYoISgvbWVzc2FnZS1jb250ZW50LVxcZHsxOX0vLnRlc3QobWVzc2FnZUNvbnRlbnRFbGVtLmlkKSkpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJpc0Rpc2NvcmRQYXN0ZSBGQUlMOiBObyA8ZGl2IGlkPSdtZXNzYWdlLWNvbnRlbnQtXFxcXGR7MTl9J1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIC8vIGNsYXNzTmFtZSBtdXN0IGJlIGFraW4gdG8gXCJtYXJrdXAtZVlMUHJpIG1lc3NhZ2VDb250ZW50LTJ0M2VDSVwiXG4gICAgICAgICAgICBpZighKC9tYXJrdXAtW1xcd1xcZF17Nn0vLnRlc3QobWVzc2FnZUNvbnRlbnRFbGVtLmNsYXNzTmFtZSkpKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaXNEaXNjb3JkUGFzdGUgRkFJTDogTm8gPGRpdiBjbGFzcz0nbWFya3VwLVxcXFx3ezZ9J1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCEoL21lc3NhZ2VDb250ZW50LVtcXHdcXGRdezZ9Ly50ZXN0KG1lc3NhZ2VDb250ZW50RWxlbS5jbGFzc05hbWUpKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImlzRGlzY29yZFBhc3RlIEZBSUw6IE5vIDxkaXYgY2xhc3M9J21lc3NhZ2VDb250ZW50LVxcXFx3ezZ9J1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbm90IGEgdGV4dCBtZXNzYWdlLCBjaGVjayBpZiBpdCdzIGEgbWVkaWEgbWVzc2FnZSBcbiAgICAgICAgY29uc3QgbWVzc2FnZUFjY2Vzb3JpZXNFbGVtID0gRE9NLnF1ZXJ5U2VsZWN0b3IoXCJkaXZbaWRePSdtZXNzYWdlLWFjY2Vzc29yaWVzJ11cIik7XG4gICAgICAgIGlmKG1lc3NhZ2VBY2Nlc29yaWVzRWxlbSl7XG4gICAgICAgICAgICAvLyBkaXYgaWQgbXVzdCBhbHdheXMgYmUgZm9sbG93ZWQgYnkgMTktZGlnaXQgbWVzc2FnZSBpZFxuICAgICAgICAgICAgaWYoISgvbWVzc2FnZS1hY2Nlc3Nvcmllcy1cXGR7MTl9Ly50ZXN0KG1lc3NhZ2VBY2Nlc29yaWVzRWxlbS5pZCkpKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaXNEaXNjb3JkUGFzdGUgRkFJTDogTm8gPGRpdiBpZD0nbWVzc2FnZS1hY2Nlc3Nvcmllcy1cXFxcZHsxOX0nXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBjbGFzc05hbWUgbXVzdCBhbHdheXMgYmUgYWtpbiB0byBcImNvbnRhaW5lci0yRW9mY0lcIlxuICAgICAgICAgICAgaWYoISgvY29udGFpbmVyLVtcXHdcXGRdezZ9Ly50ZXN0KG1lc3NhZ2VBY2Nlc29yaWVzRWxlbS5jbGFzc05hbWUpKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImlzRGlzY29yZFBhc3RlIEZBSUw6IE5vIDxkaXYgY2xhc3M9J2NvbnRhaW5lci1cXFxcd3s2fSdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG5cbiAgICBwdWJsaWMgdG9NYXJrZG93bihmb3JtYXRzOiBJTWVzc2FnZUZvcm1hdHMpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYXJrZG93bkFycmF5OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGZvcihjb25zdCBtZXNzYWdlIG9mIHRoaXMubWVzc2FnZXMpe1xuICAgICAgICAgICAgLy8gSW5zZXJ0IGJsYW5rIGxpbmUgYmV0d2VlbiBkaWZmZXJlbnQgdXNlcnNcbiAgICAgICAgICAgIGlmKG1lc3NhZ2UuaGVhZGVyICYmIG1hcmtkb3duQXJyYXkubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgbWFya2Rvd25BcnJheS5wdXNoKFwiPlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFya2Rvd25BcnJheS5wdXNoKG1lc3NhZ2UudG9NYXJrZG93bihmb3JtYXRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWFya2Rvd25BcnJheS5qb2luKFwiXFxuXCIpO1xuICAgIH1cbn0iLCAiaW1wb3J0IERpc2NvcmRGb3JtYXR0ZXIgZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBJRGlzY29yZEZvcm1hdHRlclNldHRpbmdzIHtcblx0c2hvd1JlcGxpZXM6IGJvb2xlYW4sXG5cdGRpc3Rpbmd1aXNoSGVhZGluZ3M6IGJvb2xlYW4sXG4gIHNob3dFZGl0ZWQ6IGJvb2xlYW4sXG59XG5cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IElEaXNjb3JkRm9ybWF0dGVyU2V0dGluZ3MgPSB7XG5cdHNob3dSZXBsaWVzOiB0cnVlLFxuXHRkaXN0aW5ndWlzaEhlYWRpbmdzOiBmYWxzZSxcblx0c2hvd0VkaXRlZDogdHJ1ZVxufVxuXG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IERpc2NvcmRGb3JtYXR0ZXI7XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRGlzY29yZEZvcm1hdHRlcikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiU2hvdyBSZXBsaWVzXCIpXG4gICAgICAuc2V0RGVzYyhcIklmIHRoZXJlJ3MgYSBtZXNzYWdlIHJlcGx5LCBwYXN0ZSB0aGUgbWVzc2FnZSB0aGF0J3MgYmVlbiByZXBsaWVkIHRvLlwiKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSZXBsaWVzKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSZXBsaWVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgfSlcbiAgICBcbiAgICBcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRGlzdGluZ3Vpc2ggSGVhZGluZ3NcIilcbiAgICAgIC5zZXREZXNjKFwiVXNlIGEgZGlmZmVyZW50IG1hcmtkb3duIGZvciBlYWNoIGhlYWRpbmcgbGV2ZWwuXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzdGluZ3Vpc2hIZWFkaW5ncylcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXN0aW5ndWlzaEhlYWRpbmdzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgfSlcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTaG93IChlZGl0ZWQpXCIpXG4gICAgICAuc2V0RGVzYyhcIkNvcHkgdGhlICooZWRpdGVkKSogbWFyayB0byBPYnNpZGlhbi5cIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWRpdGVkKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFZGl0ZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICB9KVxuICB9XG59IiwgIi8vIGltcG9ydCBEaXNjb3JkTWVzc2FnZVJlcGx5IGZyb20gXCIuL0Rpc2NvcmRNZXNzYWdlUmVwbHlcIlxuaW1wb3J0IHsgSURpc2NvcmRGb3JtYXR0ZXJTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCJcblxuXG5leHBvcnQgaW50ZXJmYWNlIElNZXNzYWdlRm9ybWF0cyB7XG4gICAgcmVwbHk6IChyZXBseVRleHQ6IHN0cmluZywgbmlja25hbWU6IHN0cmluZykgPT4gc3RyaW5nLFxuICAgIGVkaXRlZDogKCkgPT4gc3RyaW5nLFxuXG4gICAgaXRhbGljczogKGNvbnRlbnQ6IHN0cmluZykgPT4gc3RyaW5nLFxuICAgIGJvbGQ6IChjb250ZW50OiBzdHJpbmcpID0+IHN0cmluZyxcbiAgICB1bmRlcmxpbmU6IChjb250ZW50OiBzdHJpbmcpID0+IHN0cmluZyxcbiAgICBzdHJpa2V0aHJvdWdoOiAoY29udGVudDogc3RyaW5nKSA9PiBzdHJpbmcsXG5cbiAgICBxdW90ZTogKGNvbnRlbnQ6IHN0cmluZykgPT4gc3RyaW5nLFxuXG4gICAgLy8gU2VlIGZvcm1hdE5ld2xpbmUoKSBmb3Igd2h5IGlzTGFzdEVsZW0gaXMgYSB0aGluZ1xuICAgIGgxOiAoY29udGVudDogc3RyaW5nKSA9PiBzdHJpbmcsXG4gICAgaDI6IChjb250ZW50OiBzdHJpbmcpID0+IHN0cmluZyxcbiAgICBoMzogKGNvbnRlbnQ6IHN0cmluZykgPT4gc3RyaW5nLFxuXG4gICAgZGVmYXVsdDogKGNvbnRlbnQ6IHN0cmluZykgPT4gc3RyaW5nLFxuXG4gICAgZW1vamk6IChjb250ZW50OiBzdHJpbmcpID0+IHN0cmluZyxcbiAgICBjdXN0b21FbW9qaTogKGNvbnRlbnQ6IHN0cmluZykgPT4gc3RyaW5nICAvLyBjdXN0b21FbW9qaSBjb250ZW50IGlzIGEgdXJsXG59XG5cblxuLyoqIFxuICogQWxsIGZvcm1hdHMgYXZhaWxhYmxlOyBuZXN0ZWQgZm9ybWF0cyBhcmUgdG8gYmUgcmVzb2x2ZWQgYnkgY3JlYXRlRm9ybWF0cygpLFxuICogd2hpY2ggaXMgY2FsbGVkIG9uY2UgdGhlIHNldHRpbmdzIGFyZSBzZXQgYW5kIGNob29zZSBvbmUgZm9ybWF0IGZvciBlYWNoIGNhdGVnb3J5LiBcbiAqL1xuY29uc3QgZm9ybWF0cyA9IHtcbiAgICByZXBseTogeyAgLy8gc2hvd1JlcGx5IHRvZ2dsZVxuICAgICAgICBlbmFibGVkOiAocmVwbHlUZXh0OiBzdHJpbmcsIG5pY2tuYW1lOiBzdHJpbmcpID0+IHsgcmV0dXJuIGA+Kioke25pY2tuYW1lfSoqOiAke3JlcGx5VGV4dH1gIH0sXG4gICAgICAgIGRpc2FibGVkOiAocmVwbHlUZXh0OiBzdHJpbmcsIG5pY2tuYW1lOiBzdHJpbmcpID0+IHsgcmV0dXJuICcnIH1cbiAgICB9LFxuXG4gICAgZWRpdGVkOiB7ICAvLyBzaG93RWRpdGVkIHRvZ2dsZVxuICAgICAgICBlbmFibGVkOiAoKSA9PiB7IHJldHVybiAnICooZWRpdGVkKSonIH0sXG4gICAgICAgIGRpc2FibGVkOiAoKSA9PiB7IHJldHVybiAnJyB9XG4gICAgfSxcblxuICAgIGl0YWxpY3M6IChjb250ZW50OiBzdHJpbmcpID0+IHsgcmV0dXJuIGAqJHtjb250ZW50fSpgIH0sXG4gICAgYm9sZDogKGNvbnRlbnQ6IHN0cmluZykgPT4geyByZXR1cm4gYCoqJHtjb250ZW50fSoqYCB9LFxuICAgIHVuZGVybGluZTogKGNvbnRlbnQ6IHN0cmluZykgPT4geyByZXR1cm4gYDx1PiR7Y29udGVudH08L3U+YCB9LFxuICAgIHN0cmlrZXRocm91Z2g6IChjb250ZW50OiBzdHJpbmcpID0+IHsgcmV0dXJuIGB+fiR7Y29udGVudH1+fmAgfSxcblxuICAgIHF1b3RlOiAoY29udGVudDogc3RyaW5nKSA9PiB7IHJldHVybiBgPiR7Y29udGVudH1gIH0sXG5cbiAgICB1bmRpc3Rpbmd1aXNoZWRIZWFkaW5nOiAoY29udGVudDogc3RyaW5nKSA9PiB7IHJldHVybiBhZGROZXdMaW5lKGAqKiR7Y29udGVudH0qKmApIH0sXG4gICAgaDE6IChjb250ZW50OiBzdHJpbmcpID0+IHsgcmV0dXJuIGFkZE5ld0xpbmUoYCoqLS0tICR7Y29udGVudH0gLS0tKipgKSB9LFxuICAgIGgyOiAoY29udGVudDogc3RyaW5nKSA9PiB7IHJldHVybiBhZGROZXdMaW5lKGAqKi0tJHtjb250ZW50fS0tKipgKSB9LFxuICAgIGgzOiAoY29udGVudDogc3RyaW5nKSA9PiB7IHJldHVybiBhZGROZXdMaW5lKGAqKi0ke2NvbnRlbnR9LSoqYCkgfSxcblxuICAgIGRlZmF1bHQ6IChjb250ZW50OiBzdHJpbmcpID0+IHsgcmV0dXJuIGNvbnRlbnQgfSwgIC8vIGNvbnRlbnQgd2l0aG91dCBwYXJ0aWN1bGFyIGZvcm1hdHRpbmdcblxuICAgIGVtb2ppOiAoY29udGVudDogc3RyaW5nKSA9PiB7IHJldHVybiBjb250ZW50IH0sXG4gICAgY3VzdG9tRW1vamk6IChjb250ZW50OiBzdHJpbmcpID0+IHsgcmV0dXJuIGA8aW1nIHNyYz0nJHtjb250ZW50fScgc3R5bGU9J2hlaWdodDogdmFyKC0tZm9udC10ZXh0LXNpemUpJz5gIH1cbn1cblxuXG5cbi8qKiBTaW5jZSBoZWFkaW5ncyBkb24ndCBoYXZlIGEgdHJhaWxpbmcgXFxuIGFzIHBhcnQgb2YgdGhlaXIgY29udGVudCB0ZXh0IGJ5IGRlZmF1bHQsXG4gICAgd2UgYWRkIG9uZSBtYW51YWxseS4gXG4gICAgXG4gICAgSWYgd2UgZGlkbid0LCB0aGUgbmV4dCBwaWVjZSBvZiBjb250ZW50IGFmdGVyIGEgaGVhZGluZyB3b3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIHNhbWUgbGluZS5cbiAqL1xuZnVuY3Rpb24gYWRkTmV3TGluZShjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgaXMgZGVwcmVjYXRlZFxuXG5cbiAgICByZXR1cm4gY29udGVudCArICdcXG4+Jztcbn1cblxuXG4vKiogXG4gKiBIZWxwZXIgZnVuY3Rpb24gc28gc2V0dGluZ3MgY2FuIGJlIGFwcGxpZWQgYW5kIHJldHJpZXZlIHRoZSByaWdodCBtZXNzYWdlIGZvcm1hdHMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JtYXRzKHNldHRpbmdzOiBJRGlzY29yZEZvcm1hdHRlclNldHRpbmdzKTogSU1lc3NhZ2VGb3JtYXRzIHtcbiAgICAvLyBEZWZpbmluZyB0aGlzIHdpdGggdG9ucyBvZiB2YXJpYWJsZXMgYmVjYXVzZSB0aGlzIGlzIHRoZSBvbmx5IGdvb2Qgd2F5IEkndmUgZm91bmQgdG8gbWFrZSBpdFxuICAgIC8vIHR5cGUtc2FmZSB3aXRob3V0IFR5cGVTY3JpcHQgc2NyZWFtaW5nIGF0IG1lLlxuXG4gICAgbGV0IGgxRm9ybWF0OiBJTWVzc2FnZUZvcm1hdHNbJ2gxJ107XG4gICAgbGV0IGgyRm9ybWF0OiBJTWVzc2FnZUZvcm1hdHNbJ2gyJ107XG4gICAgbGV0IGgzRm9ybWF0OiBJTWVzc2FnZUZvcm1hdHNbJ2gzJ107XG4gICAgaWYoc2V0dGluZ3MuZGlzdGluZ3Vpc2hIZWFkaW5ncyA9PT0gZmFsc2Upe1xuICAgICAgICBoMUZvcm1hdCA9IGZvcm1hdHMudW5kaXN0aW5ndWlzaGVkSGVhZGluZztcbiAgICAgICAgaDJGb3JtYXQgPSBmb3JtYXRzLnVuZGlzdGluZ3Vpc2hlZEhlYWRpbmc7XG4gICAgICAgIGgzRm9ybWF0ID0gZm9ybWF0cy51bmRpc3Rpbmd1aXNoZWRIZWFkaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGgxRm9ybWF0ID0gZm9ybWF0cy5oMTtcbiAgICAgICAgaDJGb3JtYXQgPSBmb3JtYXRzLmgyO1xuICAgICAgICBoM0Zvcm1hdCA9IGZvcm1hdHMuaDM7XG4gICAgfVxuXG4gICAgbGV0IGVkaXRlZEZvcm1hdDogSU1lc3NhZ2VGb3JtYXRzWydlZGl0ZWQnXTtcbiAgICBpZihzZXR0aW5ncy5zaG93RWRpdGVkID09PSB0cnVlKXtcbiAgICAgICAgZWRpdGVkRm9ybWF0ID0gZm9ybWF0cy5lZGl0ZWQuZW5hYmxlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0ZWRGb3JtYXQgPSBmb3JtYXRzLmVkaXRlZC5kaXNhYmxlZDtcbiAgICB9XG5cbiAgICBsZXQgcmVwbHlGb3JtYXQ6IElNZXNzYWdlRm9ybWF0c1sncmVwbHknXTtcbiAgICBpZihzZXR0aW5ncy5zaG93UmVwbGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXBseUZvcm1hdCA9IGZvcm1hdHMucmVwbHkuZW5hYmxlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXBseUZvcm1hdCA9IGZvcm1hdHMucmVwbHkuZGlzYWJsZWQ7XG4gICAgfVxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXBseTogcmVwbHlGb3JtYXQsXG4gICAgICAgIGVkaXRlZDogZWRpdGVkRm9ybWF0LFxuXG4gICAgICAgIGl0YWxpY3M6IGZvcm1hdHMuaXRhbGljcyxcbiAgICAgICAgYm9sZDogZm9ybWF0cy5ib2xkLFxuICAgICAgICB1bmRlcmxpbmU6IGZvcm1hdHMudW5kZXJsaW5lLFxuICAgICAgICBzdHJpa2V0aHJvdWdoOiBmb3JtYXRzLnN0cmlrZXRocm91Z2gsXG5cbiAgICAgICAgcXVvdGU6IGZvcm1hdHMucXVvdGUsXG4gICAgICAgIGgxOiBoMUZvcm1hdCxcbiAgICAgICAgaDI6IGgyRm9ybWF0LFxuICAgICAgICBoMzogaDNGb3JtYXQsXG5cbiAgICAgICAgZGVmYXVsdDpmb3JtYXRzLmRlZmF1bHQsXG5cbiAgICAgICAgZW1vamk6IGZvcm1hdHMuZW1vamksXG4gICAgICAgIGN1c3RvbUVtb2ppOiBmb3JtYXRzLmN1c3RvbUVtb2ppXG4gICAgfVxufSIsICIvLyBJTVBPUlRBTlQ6IEFkanVzdCBESVIgaW4gdGhlIFVuaXRUZXN0cyBjbGFzcyB0byB0aGUgZGlyZWN0b3J5IHRoYXQgdGhlIHBsdWdpbiBpcyBjb250YWluZWQgaW4uXG4vLyBMZXQgbWUga25vdyBpZiB0aGVyZSdzIGEgYmV0dGVyIHdheS4gVGhlIGZhY3QgdGhhdCB0aGUgZmlsZSdzIHdvcmtpbmcgZGlyZWN0b3J5IGlzIHRpZWQgdG8gc29tZVxuLy8gRWxlY3Ryb24gZGlyZWN0b3J5IGZyb20gd2hpY2ggSSBjYW4ndCBhY2Nlc3MgdGhlIHRlc3QgaHRtbCBmaWxlcyBpcyB0aHJvd2luZyBtZSBvZmYuIFRoYXQncyBhbHNvIHdoeVxuLy8gdGhlIGFzc2VydGlvbnMgdGhlbXNlbHZlcyBhcmUgaW5saW5lIGluc2lkZSB0aGlzIGZpbGUsIHJhdGhlciB0aGFuIHN0b3JlZCBpbiBhIC5qc29uIGluIHRoZSB0ZXN0cyBmb2xkZXIuXG5cblxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgRGlzY29yZE1lc3NhZ2UgZnJvbSBcIi4uL3NyYy9EaXNjb3JkTWVzc2FnZVwiO1xuaW1wb3J0IERpc2NvcmRDb252ZXJzYXRpb24gZnJvbSBcIi4uL3NyYy9EaXNjb3JkQ29udmVyc2F0aW9uXCI7XG5pbXBvcnQgRGlzY29yZFNpbmdsZU1lc3NhZ2UgZnJvbSAnc3JjL0Rpc2NvcmRTaW5nbGVNZXNzYWdlJztcbmltcG9ydCB7IElNZXNzYWdlRm9ybWF0cyB9IGZyb20gJ3NyYy9mb3JtYXRzJztcblxuXG4vLyBpbXBvcnRpbmcgJ2Fzc2VydCcgZ2l2ZXMgZXJyb3I6IE1vZHVsZSBcImFzc2VydFwiIGNhbiBvbmx5IGJlIGRlZmF1bHQtaW1wb3J0ZWQgdXNpbmcgdGhlICdhbGxvd1N5bnRoZXRpY0RlZmF1bHRJbXBvcnRzJyBmbGFncygxMjU5KVxuLy8gdW5zdXNjY2VzZnVsbHkgZnVja2VkIGFyb3VuZCBlbm91Z2ggd2l0aCBjb25maWcgZmlsZXMgZm9yIG5vdywgSSdsbCBqdXN0IGNvZGUgaXQgbXlzZWxmIFxuZnVuY3Rpb24gYXNzZXJ0RXF1YWwob3V0cHV0VmFsdWU6IG9iamVjdCB8IHN0cmluZywgYXNzZXJ0aW9uVmFsdWU6IG9iamVjdCB8IHN0cmluZywgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8gQ29tcGFyZSBvYmplY3RzXG4gICAgaWYob3V0cHV0VmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgYXNzZXJ0aW9uVmFsdWUgaW5zdGFuY2VvZiBPYmplY3Qpe1xuICAgICAgICBpZihKU09OLnN0cmluZ2lmeShvdXRwdXRWYWx1ZSkgIT0gSlNPTi5zdHJpbmdpZnkoYXNzZXJ0aW9uVmFsdWUpKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZBSUw6ICR7bmFtZX1cXG5PdXRwdXQgT2JqZWN0OiBgLCBvdXRwdXRWYWx1ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG5Bc3NlcnRpb24gT2JqZWN0OiBgLCBhc3NlcnRpb25WYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUEFTUzogJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgXG4gICAgLy8gQ29tcGFyZSBzdHJpbmdzXG4gICAgfSBlbHNlIGlmKHR5cGVvZiBvdXRwdXRWYWx1ZSA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhc3NlcnRpb25WYWx1ZSA9PSBcInN0cmluZ1wiKXtcbiAgICAgICAgaWYob3V0cHV0VmFsdWUgIT0gYXNzZXJ0aW9uVmFsdWUpe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRkFJTDogJHtuYW1lfVxcbk91dHB1dCBzdHJpbmc6IGAsIG91dHB1dFZhbHVlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbkFzc2VydGlvbiBzdHJpbmc6IGAsIGFzc2VydGlvblZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQQVNTOiAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxudHlwZSB0ZXN0T2JqZWN0ID0ge2ZpbGVOYW1lOiBzdHJpbmcsIG9iamVjdDogb2JqZWN0LCBtYXJrZG93bjogc3RyaW5nfTtcblxuXG5jbGFzcyBUZXN0cyB7XG5cdERJUiA9IFwiL2hvbWUvZHVkZS9TeW5jL2RldiB2YXVsdC8ub2JzaWRpYW4vcGx1Z2lucy9kaXNjb3JkLW1lc3NhZ2UtZm9ybWF0dGVyL3Rlc3RzL1wiXG4gICAgXG4gICAgY29uc3RydWN0b3IoKXt9XG5cbiAgICBydW4oZm9ybWF0czogSU1lc3NhZ2VGb3JtYXRzKXtcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0gVEVTVCBTVEFSVCAtLS1cIik7XG4gICAgICAgIHRoaXMucnVuTWVzc2FnZVRlc3RzKGZvcm1hdHMpO1xuICAgICAgICB0aGlzLnJ1bkNvbnZlcnNhdGlvblRlc3RzKGZvcm1hdHMpO1xuICAgICAgICB0aGlzLnJ1blNpbmdsZU1lc3NhZ2VUZXN0cyhmb3JtYXRzKTsgIC8vIHJlZmVycmluZyB0byBEaXNjb3JkU2luZ2xlTWVzc2FnZSBjbGFzc1xuICAgIH1cblxuXG4gICAgcnVuTWVzc2FnZVRlc3RzKGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyl7XG4gICAgICAgIC8vIEJhY2tlbmQ6IE1ha2Ugc3VyZSB0aGF0IGZpbGVwYXRoLmh0bWwgcmVzdWx0cyBpbiBhIGdpdmVuIG9iamVjdFxuICAgICAgICBjb25zdCBURVNUT0JKRUNUUzogdGVzdE9iamVjdFtdID0gW1xuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBcIm9uZV93aXRoX2hlYWRlcl9hbmRfcGZwLmh0bWxcIiwgXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7XCJoZWFkZXJcIjogeyBcIm5pY2tuYW1lXCI6IFwiSHVudGVyIEJpZGVuJ3MgbGFwdG9wXCIsIFwidGltZUV4YWN0XCI6IDE2ODk5OTI5NDYyOTQsIFwidGltZVJlbGF0aXZlXCI6IFwiVG9kYXkgYXQgMDQ6MjlcIiwgXCJhdmF0YXJcIjogXCJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdmF0YXJzLzE5NzUxNzk0NDQyNTY3NjgwMi85ODhmY2EwZThmNDQ1Y2U1NGM5ZGQyNjAwZWM3YmMzNS53ZWJwP3NpemU9ODBcIiB9LCBcImNvbnRleHRcIjogeyBcImNoYW5uZWxJZFwiOiBcIjU1NzMyNzE4ODMxMTkzMjk1OVwiLCBcIm1lc3NhZ2VJZFwiOiBcIjExMzIxMzcyMTU2MTEzNzk4MTJcIiB9LCBcImNvbnRlbnRcIjogeyBcInRleHRcIjogXCJEYW5nZXJvdXMgZGlzZWFzZVwiIH19LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBcIj4qKkh1bnRlciBCaWRlbidzIGxhcHRvcCAtIDcvMjIvMjAyMywgNDoyOTowNiBBTSoqXFxuPkRhbmdlcm91cyBkaXNlYXNlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZU5hbWU6IFwib25lX3dpdGhfaGVhZGVyLmh0bWxcIiwgXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7IFwiaGVhZGVyXCI6IHsgXCJuaWNrbmFtZVwiOiBcIkh1bnRlciBCaWRlbidzIGxhcHRvcFwiLCBcInRpbWVFeGFjdFwiOiAxNjg5OTk3NTMwOTUxLCBcInRpbWVSZWxhdGl2ZVwiOiBcIlRvZGF5IGF0IDA1OjQ1XCIgfSwgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI1NTczMjcxODgzMTE5MzI5NTlcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTMyMTU2NDQ1MDU2NTY5Mzk1XCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwidHJ1ZVwiIH0gfSxcbiAgICAgICAgICAgICAgICBtYXJrZG93bjogXCI+KipIdW50ZXIgQmlkZW4ncyBsYXB0b3AgLSA3LzIyLzIwMjMsIDU6NDU6MzAgQU0qKlxcbj50cnVlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgICBcblxuICAgICAgICBmb3IgKGNvbnN0IHtmaWxlTmFtZSwgb2JqZWN0LCBtYXJrZG93bn0gb2YgVEVTVE9CSkVDVFMpe1xuICAgICAgICAgICAgZnMucmVhZEZpbGUodGhpcy5ESVIgKyBmaWxlTmFtZSwgJ3V0ZjgnLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IERPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RMaSA9IERPTS5xdWVyeVNlbGVjdG9yKFwibGlcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBEaXNjb3JkTWVzc2FnZShmaXJzdExpKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKG1lc3NhZ2UsIG9iamVjdCwgXCJEaXNjb3JkTWVzc2FnZSBPYmplY3QgZXF1YWxpdHk6IFwiICsgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKG1lc3NhZ2UudG9NYXJrZG93bihmb3JtYXRzKSwgbWFya2Rvd24sIFwiRGlzY29yZE1lc3NhZ2UudG9NYXJrZG93bigpIGVxdWFsaXR5OiBcIiArIGZpbGVOYW1lKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJ1bkNvbnZlcnNhdGlvblRlc3RzKGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyl7XG4gICAgICAgIC8vIERlZmluZSB0ZXN0cyBhcyBhIE1hcDxmaWxlcGF0aCwgb2JqZWN0PlxuICAgICAgICBjb25zdCBURVNUT0JKRUNUUzogdGVzdE9iamVjdFtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBcIm11bHRpcGxlX3dpdGhfaGVhZGVyLmh0bWxcIiwgXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7IFwibWVzc2FnZXNcIjogWyB7IFwiaGVhZGVyXCI6IHsgXCJuaWNrbmFtZVwiOiBcIkhlcnJcIiwgXCJ0aW1lRXhhY3RcIjogMTY5MDY1MDAxMTYzMCwgXCJ0aW1lUmVsYXRpdmVcIjogXCJUb2RheSBhdCAxOTowMFwiIH0sIFwiY29udGV4dFwiOiB7IFwiY2hhbm5lbElkXCI6IFwiODQwMjg2MjY0OTY0MDIyMzAyXCIsIFwibWVzc2FnZUlkXCI6IFwiMTEzNDg5MzE0NzM3ODQyNTk1N1wiIH0sIFwiY29udGVudFwiOiB7IFwidGV4dFwiOiBcIlRoZSBpc3N1ZSBoYXBwZW5zIHdoZW4gSSB0cnkgdG8gY29tcGlsZSB0aGUgZmlsZSBtYW51YWxseSB1c2luZyB0c2MgdGVzdHMvVW5pdFRlc3RzLnRzICooZWRpdGVkKSpcIiB9IH0sIHsgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI4NDAyODYyNjQ5NjQwMjIzMDJcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTM0ODkzMzQ4NDQwNzc2NzA0XCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwiSG93ZXZlciwgSSBraW5kYSBmZWVsIGxpa2UgSSBoYXZlIHRvIGJlY2F1c2UgbnBtIHJ1biBkZXYgZG9lc24ndCBzZWVtIHRvIGNvbXBpbGUgdGVzdHMvVW5pdFRlc3RzLnRzIHRvIGEgdGVzdHMvVW5pdFRlc3RzLmpzIGxpa2UgaXQgZG9lcyB3aXRoIGFsbCBvdGhlciAudHMgZmlsZXM/ICooZWRpdGVkKSpcIiB9IH0sIHsgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI4NDAyODYyNjQ5NjQwMjIzMDJcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTM0ODkzNzU3Mjk3MzQ0NTcyXCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwiR3Vlc3MgaXQgZG9lc24ndCBtYXR0ZXIgc2luY2UgaXQgcmVzcG9uZHMgdG8gY2hhbmdlcyB0byB0aGUgVW5pdFRlc3RzLnRzIHJlZ2FyZGxlc3MuLi5cIiB9IH0gXSB9LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBgPioqSGVyciAtIDcvMjkvMjAyMywgNzowMDoxMSBQTSoqXFxuPlRoZSBpc3N1ZSBoYXBwZW5zIHdoZW4gSSB0cnkgdG8gY29tcGlsZSB0aGUgZmlsZSBtYW51YWxseSB1c2luZyB0c2MgdGVzdHMvVW5pdFRlc3RzLnRzICooZWRpdGVkKSpcXG4+SG93ZXZlciwgSSBraW5kYSBmZWVsIGxpa2UgSSBoYXZlIHRvIGJlY2F1c2UgbnBtIHJ1biBkZXYgZG9lc24ndCBzZWVtIHRvIGNvbXBpbGUgdGVzdHMvVW5pdFRlc3RzLnRzIHRvIGEgdGVzdHMvVW5pdFRlc3RzLmpzIGxpa2UgaXQgZG9lcyB3aXRoIGFsbCBvdGhlciAudHMgZmlsZXM/ICooZWRpdGVkKSpcXG4+R3Vlc3MgaXQgZG9lc24ndCBtYXR0ZXIgc2luY2UgaXQgcmVzcG9uZHMgdG8gY2hhbmdlcyB0byB0aGUgVW5pdFRlc3RzLnRzIHJlZ2FyZGxlc3MuLi5gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBcIm11bHRpcGxlX3dpdGhfcGZwLmh0bWxcIiwgXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7IFwibWVzc2FnZXNcIjogWyB7IFwiaGVhZGVyXCI6IHsgXCJuaWNrbmFtZVwiOiBcIkdpZ2FjaGFkIFhpXCIsIFwidGltZUV4YWN0XCI6IDE2ODk5NjM1MzYyNTQsIFwidGltZVJlbGF0aXZlXCI6IFwiWWVzdGVyZGF5IGF0IDIwOjE4XCIsIFwiYXZhdGFyXCI6IFwiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy8xNjU5NDQ5OTcyMTUwNzYzNTMvNDMyZmE1MzAzZmIzNmI4ZmQxMjZjNzE3OGNmNzBkNGMud2VicD9zaXplPTgwXCIgfSwgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI1NTczMjcxODgzMTE5MzI5NTlcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTMyMDEzODYwOTYyOTc1NzQ0XCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwiT3BwZW5oZWltZXJcIiB9IH0sIHsgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI1NTczMjcxODgzMTE5MzI5NTlcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTMyMDEzODgxODc5OTczOTc4XCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwiSXMgYSBzb2xpZCA3LzhcIiB9IH0gXSB9LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBcIj4qKkdpZ2FjaGFkIFhpIC0gNy8yMS8yMDIzLCA4OjE4OjU2IFBNKipcXG4+T3BwZW5oZWltZXJcXG4+SXMgYSBzb2xpZCA3LzhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJtdWx0aXBsZV9mcm9tX3NldmVyYWxfdXNlcnMuaHRtbFwiLCBcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHsgXCJtZXNzYWdlc1wiOiBbIHsgXCJoZWFkZXJcIjogeyBcIm5pY2tuYW1lXCI6IFwiR2lnYWNoYWQgWGlcIiwgXCJ0aW1lRXhhY3RcIjogMTY4OTk2MzUzNjI1NCwgXCJ0aW1lUmVsYXRpdmVcIjogXCJZZXN0ZXJkYXkgYXQgMjA6MThcIiwgXCJhdmF0YXJcIjogXCJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdmF0YXJzLzE2NTk0NDk5NzIxNTA3NjM1My80MzJmYTUzMDNmYjM2YjhmZDEyNmM3MTc4Y2Y3MGQ0Yy53ZWJwP3NpemU9ODBcIiB9LCBcImNvbnRleHRcIjogeyBcImNoYW5uZWxJZFwiOiBcIjU1NzMyNzE4ODMxMTkzMjk1OVwiLCBcIm1lc3NhZ2VJZFwiOiBcIjExMzIwMTM4NjA5NjI5NzU3NDRcIiB9LCBcImNvbnRlbnRcIjogeyBcInRleHRcIjogXCJPcHBlbmhlaW1lclwiIH0gfSwgeyBcImNvbnRleHRcIjogeyBcImNoYW5uZWxJZFwiOiBcIjU1NzMyNzE4ODMxMTkzMjk1OVwiLCBcIm1lc3NhZ2VJZFwiOiBcIjExMzIwMTM4ODE4Nzk5NzM5NzhcIiB9LCBcImNvbnRlbnRcIjogeyBcInRleHRcIjogXCJJcyBhIHNvbGlkIDcvOFwiIH0gfSwgeyBcImhlYWRlclwiOiB7IFwibmlja25hbWVcIjogXCJMdWtlXCIsIFwidGltZUV4YWN0XCI6IDE2ODk5NjQwNDkxMTMsIFwidGltZVJlbGF0aXZlXCI6IFwiWWVzdGVyZGF5IGF0IDIwOjI3XCIsIFwiYXZhdGFyXCI6IFwiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy81OTU3OTEzMzM3MDUxMjE4MDQvN2IxMzQ3NGMwNmY0ZTQ1OWMzMzM2NDU5NzE0NmI4MjIud2VicD9zaXplPTgwXCIgfSwgXCJjb250ZXh0XCI6IHsgXCJjaGFubmVsSWRcIjogXCI1NTczMjcxODgzMTE5MzI5NTlcIiwgXCJtZXNzYWdlSWRcIjogXCIxMTMyMDE2MDEyMDQ5NTMxMDEyXCIgfSwgXCJjb250ZW50XCI6IHsgXCJ0ZXh0XCI6IFwibW9vaSB0b3RhIHZpdHR1IG9pc2tvIHBvaXN0YWEgam90YWkgYWt1dXR0aWkgbmlwcGlpIHRhaSBqb3RhaSBtdWtrdWxhbiBoZXBhdGlpdHRpcm90dGEgc3l5aGtpIHRlbWVzdGF0IHZpdHR1IGxhaWthIHZhaWsgcGl1aGFsIHRhaiBqb3RhaS4gcGhpbGlzcCBtYW5ra2Ega2FqYXJpIGFrdXV0dGkgMTVtaW4gdG9yaSBzXHUwMEU0XHUwMEU0dFx1MDBGNiB0b3Mgbmkgc2FhbiBzaWl0IGpvdGFpbiBuaSB2b2luIHNpdCBtYWtzYWEsIGVuIGxhaXRhIHRpbGlsIG1pdFx1MDBFNFx1MDBFNCBrdXVtb3R0YWEgdml0dXN0aSBzb3NzdXQgamEgZWR1bnZhbHZvbnRhIHltcyB1bG9zb3RvbiB0YWtpYSBuaSBrb29kYWlsZSBqb3RhaSBqb3MgbWl0XHUwMEU0XHUwMEU0IGJ1ZGRoYWEgdG1zIG9pcyBwb2lzdGFhIHBhbGFpbGxhYSBzaXQgbW9cIiB9IH0sIHsgXCJoZWFkZXJcIjogeyBcIm5pY2tuYW1lXCI6IFwiR2lnYWNoYWQgWGlcIiwgXCJ0aW1lRXhhY3RcIjogMTY4OTk2NDE1MzcyMiwgXCJ0aW1lUmVsYXRpdmVcIjogXCJZZXN0ZXJkYXkgYXQgMjA6MjlcIiwgXCJhdmF0YXJcIjogXCJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdmF0YXJzLzE2NTk0NDk5NzIxNTA3NjM1My80MzJmYTUzMDNmYjM2YjhmZDEyNmM3MTc4Y2Y3MGQ0Yy53ZWJwP3NpemU9ODBcIiB9LCBcImNvbnRleHRcIjogeyBcImNoYW5uZWxJZFwiOiBcIjU1NzMyNzE4ODMxMTkzMjk1OVwiLCBcIm1lc3NhZ2VJZFwiOiBcIjExMzIwMTY0NTA4MTE0NjE2OTRcIiB9LCBcImNvbnRlbnRcIjogeyBcInRleHRcIjogXCJUaGUgbW92aWUgaXMgYWJvdXQgcGh5c2ljcyBsYXcgYW5kIEphcGFuXCIgfSB9IF0gfSxcbiAgICAgICAgICAgICAgICBtYXJrZG93bjogXCI+KipHaWdhY2hhZCBYaSAtIDcvMjEvMjAyMywgODoxODo1NiBQTSoqXFxuPk9wcGVuaGVpbWVyXFxuPklzIGEgc29saWQgNy84XFxuPlxcbj4qKkx1a2UgLSA3LzIxLzIwMjMsIDg6Mjc6MjkgUE0qKlxcbj5tb29pIHRvdGEgdml0dHUgb2lza28gcG9pc3RhYSBqb3RhaSBha3V1dHRpaSBuaXBwaWkgdGFpIGpvdGFpIG11a2t1bGFuIGhlcGF0aWl0dGlyb3R0YSBzeXloa2kgdGVtZXN0YXQgdml0dHUgbGFpa2EgdmFpayBwaXVoYWwgdGFqIGpvdGFpLiBwaGlsaXNwIG1hbmtrYSBrYWphcmkgYWt1dXR0aSAxNW1pbiB0b3JpIHNcdTAwRTRcdTAwRTR0XHUwMEY2IHRvcyBuaSBzYWFuIHNpaXQgam90YWluIG5pIHZvaW4gc2l0IG1ha3NhYSwgZW4gbGFpdGEgdGlsaWwgbWl0XHUwMEU0XHUwMEU0IGt1dW1vdHRhYSB2aXR1c3RpIHNvc3N1dCBqYSBlZHVudmFsdm9udGEgeW1zIHVsb3NvdG9uIHRha2lhIG5pIGtvb2RhaWxlIGpvdGFpIGpvcyBtaXRcdTAwRTRcdTAwRTQgYnVkZGhhYSB0bXMgb2lzIHBvaXN0YWEgcGFsYWlsbGFhIHNpdCBtb1xcbj5cXG4+KipHaWdhY2hhZCBYaSAtIDcvMjEvMjAyMywgODoyOToxMyBQTSoqXFxuPlRoZSBtb3ZpZSBpcyBhYm91dCBwaHlzaWNzIGxhdyBhbmQgSmFwYW5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJtdWx0aXBsZV93aXRoX3JlcGx5Lmh0bWxcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHtcIm1lc3NhZ2VzXCI6IFt7XCJoZWFkZXJcIjoge1wibmlja25hbWVcIjogXCJiaXJkXCIsXCJ0aW1lRXhhY3RcIjogMTY5MTAyMjIxMDQzOSxcInRpbWVSZWxhdGl2ZVwiOiBcIlRvZGF5IGF0IDAyOjIzXCJ9LFwiY29udGV4dFwiOiB7XCJjaGFubmVsSWRcIjogXCI5MzE4NTI3OTMyNzc0NzY4OTRcIixcIm1lc3NhZ2VJZFwiOiBcIjExMzY0NTQyNjIzMzE4MjIxMzBcIn0sXCJjb250ZW50XCI6IHtcInRleHRcIjogXCJJIGxvdmUgZ2VybWFueSBidXQgaGFzIHRvIGJlIGxpa2UgYW1vbmcgdGhlIGxlYXN0IGRyaXBwaWVzdCBldXJvIGNvdW50cmllcyBvdXQgdGhlcmVcIn19LHtcImNvbnRleHRcIjoge1wiY2hhbm5lbElkXCI6IFwiOTMxODUyNzkzMjc3NDc2ODk0XCIsXCJtZXNzYWdlSWRcIjogXCIxMTM2NDU0NzEyMTcwOTIxOTk0XCJ9LFwiY29udGVudFwiOiB7XCJ0ZXh0XCI6IFwiQW5kIGl0cyBtdXNpYyBzbyBiYWRcIn19LHtcImhlYWRlclwiOiB7XCJuaWNrbmFtZVwiOiBcIk1hdHRoYWV1c1wiLFwidGltZUV4YWN0XCI6IDE2OTEwMjIzOTgzNzYsXCJ0aW1lUmVsYXRpdmVcIjogXCJUb2RheSBhdCAwMjoyNlwiLFwiYXZhdGFyXCI6IFwiaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXZhdGFycy8xOTc1MTc5NDQ0MjU2NzY4MDIvOTg4ZmNhMGU4ZjQ0NWNlNTRjOWRkMjYwMGVjN2JjMzUud2VicD9zaXplPTgwXCIsXCJyZXBseVwiOiB7XCJoZWFkZXJcIjoge1wibmlja25hbWVcIjogXCJAYmlyZFwifSxcImNvbnRleHRcIjoge1wibWVzc2FnZUlkXCI6IFwiMTEzNjQ1NDcxMjE3MDkyMTk5NFwifSxcImNvbnRlbnRcIjoge1widGV4dFwiOiBcIkFuZCBpdHMgbXVzaWMgc28gYmFkXCJ9fX0sXCJjb250ZXh0XCI6IHtcImNoYW5uZWxJZFwiOiBcIjkzMTg1Mjc5MzI3NzQ3Njg5NFwiLFwibWVzc2FnZUlkXCI6IFwiMTEzNjQ1NTA1MDU5NjczMjkyOVwifSxcImNvbnRlbnRcIjoge1widGV4dFwiOiBcIkxvdCBvZiBnb29kIEdlcm1hbiB0ZWNobm8gbXVzaWMgdGhvdWdoXCJ9fV19LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBcIj4qKmJpcmQgLSA4LzMvMjAyMywgMjoyMzozMCBBTSoqXFxuPkkgbG92ZSBnZXJtYW55IGJ1dCBoYXMgdG8gYmUgbGlrZSBhbW9uZyB0aGUgbGVhc3QgZHJpcHBpZXN0IGV1cm8gY291bnRyaWVzIG91dCB0aGVyZVxcbj5BbmQgaXRzIG11c2ljIHNvIGJhZFxcbj5cXG4+KipNYXR0aGFldXMgLSA4LzMvMjAyMywgMjoyNjozOCBBTSoqXFxuPj4qKkBiaXJkKio6IEFuZCBpdHMgbXVzaWMgc28gYmFkXFxuPkxvdCBvZiBnb29kIEdlcm1hbiB0ZWNobm8gbXVzaWMgdGhvdWdoXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZU5hbWU6IFwic2luZ2xlX3dpdGhfZm9ybWF0dGluZy5odG1sXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7XCJtZXNzYWdlc1wiOlt7XCJoZWFkZXJcIjp7XCJuaWNrbmFtZVwiOlwiSGVyclwiLFwidGltZUV4YWN0XCI6MTY5MTUyNjAzOTM0MSxcInRpbWVSZWxhdGl2ZVwiOlwiMDgvMDgvMjAyMyAyMjoyMFwifSxcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjEzODU2NzMwNTQ1OTE0Mjc5NlwiLFwibWVzc2FnZUlkXCI6XCIxMTM4NTY3NDczOTEwNzk2MzEwXCJ9LFwiY29udGVudFwiOntcInRleHRcIjpcIm5vcm1hbCAqaXRhbGljcyogKipib2xkKiogPHU+dW5kZXJsaW5lPC91PiB+fnN0cmlrZXRocm91Z2h+flxcbj4qKkhFQURJTkcgMSoqXFxuPioqSEVBRElORyAyKipcXG4+KipIRUFESU5HIDMqKlxcbj4+cXVvdGVcXG4+ICooZWRpdGVkKSpcIn19XX0sXG4gICAgICAgICAgICAgICAgbWFya2Rvd246IFwiPioqSGVyciAtIDgvOC8yMDIzLCAxMDoyMDozOSBQTSoqXFxuPm5vcm1hbCAqaXRhbGljcyogKipib2xkKiogPHU+dW5kZXJsaW5lPC91PiB+fnN0cmlrZXRocm91Z2h+flxcbj4qKkhFQURJTkcgMSoqXFxuPioqSEVBRElORyAyKipcXG4+KipIRUFESU5HIDMqKlxcbj4+cXVvdGVcXG4+ICooZWRpdGVkKSpcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJzaW5nbGVfd2l0aF91bmljb2RlX2Vtb2ppcy5odG1sXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7XCJtZXNzYWdlc1wiOlt7XCJoZWFkZXJcIjp7XCJuaWNrbmFtZVwiOlwiSGVyclwiLFwidGltZUV4YWN0XCI6MTY5MjY0OTI2MDIwNCxcInRpbWVSZWxhdGl2ZVwiOlwiVG9kYXkgYXQgMjI6MjFcIn0sXCJjb250ZXh0XCI6e1wiY2hhbm5lbElkXCI6XCIxMTQzMjc4NjAzNjY5MzQ4MzdcIn0sXCJjb250ZW50XCI6e1widGV4dFwiOlwiXHVEODNDXHVERjRCIFx1RDgzQ1x1REY0NiBcdUQ4M0NcdURERTlcdUQ4M0NcdURERUFcIn19XX0sXG4gICAgICAgICAgICAgICAgbWFya2Rvd246IGA+KipIZXJyIC0gOC8yMS8yMDIzLCAxMDoyMTowMCBQTSoqXFxuPlx1RDgzQ1x1REY0QiBcdUQ4M0NcdURGNDYgXHVEODNDXHVEREU5XHVEODNDXHVEREVBYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJzaW5nbGVfd2l0aF9jdXN0b21fZW1vamlzLmh0bWxcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHtcIm1lc3NhZ2VzXCI6W3tcImhlYWRlclwiOntcIm5pY2tuYW1lXCI6XCJIZXJyXCIsXCJ0aW1lRXhhY3RcIjoxNjkyNjQ5MjYwMjA0LFwidGltZVJlbGF0aXZlXCI6XCJUb2RheSBhdCAyMjoyMVwifSxcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjExNDMyNzg2MDM2NjkzNDgzN1wifSxcImNvbnRlbnRcIjp7XCJ0ZXh0XCI6XCI8aW1nIHNyYz0naHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vZW1vamlzLzI4OTQ3MDMxNTk0MjI0ODQ0OC53ZWJwP3NpemU9OTYmcXVhbGl0eT1sb3NzbGVzcycgc3R5bGU9J2hlaWdodDogdmFyKC0tZm9udC10ZXh0LXNpemUpJz5cIn19XX0sXG4gICAgICAgICAgICAgICAgbWFya2Rvd246IGA+KipIZXJyIC0gOC8yMS8yMDIzLCAxMDoyMTowMCBQTSoqXFxuPjxpbWcgc3JjPSdodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMjg5NDcwMzE1OTQyMjQ4NDQ4LndlYnA/c2l6ZT05NiZxdWFsaXR5PWxvc3NsZXNzJyBzdHlsZT0naGVpZ2h0OiB2YXIoLS1mb250LXRleHQtc2l6ZSknPmBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZU5hbWU6IFwic2V2ZXJhbF93aXRoX2F0dGFjaG1lbnRzLmh0bWxcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHtcIm1lc3NhZ2VzXCI6W3tcImhlYWRlclwiOntcIm5pY2tuYW1lXCI6XCJIZXJyXCIsXCJ0aW1lRXhhY3RcIjoxNjkyNjU1OTU5ODE2LFwidGltZVJlbGF0aXZlXCI6XCJUb2RheSBhdCAwMDoxMlwifSxcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjEzODU2NzMwNTQ1OTE0Mjc5NlwiLFwibWVzc2FnZUlkXCI6XCIxMTQzMzA2NzAzODc4NzY2NjMzXCJ9LFwiY29udGVudFwiOntcInRleHRcIjpcImhlbGxvIHdvcmxkICooZWRpdGVkKSpcIn19LHtcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjEzODU2NzMwNTQ1OTE0Mjc5NlwiLFwibWVzc2FnZUlkXCI6XCIxMTQzMzA3MDIwMDQ5NTg0MTg4XCJ9LFwiY29udGVudFwiOntcInRleHRcIjpcImFiYWNhYmFcIn19LHtcImhlYWRlclwiOntcIm5pY2tuYW1lXCI6XCJIZXJyXCIsXCJ0aW1lRXhhY3RcIjoxNjkyNjU3MjQ3NDQ4LFwidGltZVJlbGF0aXZlXCI6XCJUb2RheSBhdCAwMDozNFwiLFwiYXZhdGFyXCI6XCJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdmF0YXJzLzEzMjE2NjA5NjI4NjUxNTIwMC9kMDk0ZDkzMWYwNGIxNTNhYWFlYjczNmM3Zjk3MThlOS53ZWJwP3NpemU9ODBcIn0sXCJjb250ZXh0XCI6e1wiY2hhbm5lbElkXCI6XCIxMzg1NjczMDU0NTkxNDI3OTZcIixcIm1lc3NhZ2VJZFwiOlwiMTE0MzMxMjEwNDU5ODgxMDY4OVwifSxcImNvbnRlbnRcIjp7XCJ0ZXh0XCI6XCJhY2NvbXBhbnlpbmcgbWVzc2FnZSB0ZXh0XCIsXCJhdHRhY2htZW50c1wiOltcImh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvMTEzODU2NzMwNTQ1OTE0Mjc5Ni8xMTQzMzEyMTA0MTAzODcwNTE2L0hlcnJfcG9ydHJhaXRfb2Zfd2VpcmRfd29ybV9wZXJzb25fNjljNDY4ZDgtYzc0MS00NzI4LTk2YWItYjgwMTZmZmYwYTJkXzEucG5nP3dpZHRoPTI3MyZoZWlnaHQ9MjczXCIsXCJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzExMzg1NjczMDU0NTkxNDI3OTYvMTE0MzMxMjEwNDU1Njg3NTgxNi9IZXJyX3dlaXJkX2NyZWVweV93b3JtX3BlcnNvbl9jZDZlM2U2MC0zZTJhLTRhMTEtYjIxZS1kMDc2ZjljNzMxN2IucG5nP3dpZHRoPTI3MyZoZWlnaHQ9MjczXCJdfX0se1wiaGVhZGVyXCI6e1wibmlja25hbWVcIjpcIkhlcnJcIixcInRpbWVFeGFjdFwiOjE2OTI2NTk3MzU4NzMsXCJ0aW1lUmVsYXRpdmVcIjpcIlRvZGF5IGF0IDAxOjE1XCIsXCJhdmF0YXJcIjpcImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMvMTMyMTY2MDk2Mjg2NTE1MjAwL2QwOTRkOTMxZjA0YjE1M2FhYWViNzM2YzdmOTcxOGU5LndlYnA/c2l6ZT04MFwifSxcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjEzODU2NzMwNTQ1OTE0Mjc5NlwiLFwibWVzc2FnZUlkXCI6XCIxMTQzMzIyNTQxODA5NzUwMDU2XCJ9LFwiY29udGVudFwiOntcImF0dGFjaG1lbnRzXCI6W1wiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy8xMTM4NTY3MzA1NDU5MTQyNzk2LzExNDMzMjI1NDA5NzA4NzI5MDIvY2F0amFtLmdpZlwiXX19XX0sXG4gICAgICAgICAgICAgICAgbWFya2Rvd246IGA+KipIZXJyIC0gOC8yMi8yMDIzLCAxMjoxMjozOSBBTSoqXFxuPmhlbGxvIHdvcmxkICooZWRpdGVkKSpcXG4+YWJhY2FiYVxcbj5cXG4+KipIZXJyIC0gOC8yMi8yMDIzLCAxMjozNDowNyBBTSoqXFxuPmFjY29tcGFueWluZyBtZXNzYWdlIHRleHRcXG4+IVtdKGh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvMTEzODU2NzMwNTQ1OTE0Mjc5Ni8xMTQzMzEyMTA0MTAzODcwNTE2L0hlcnJfcG9ydHJhaXRfb2Zfd2VpcmRfd29ybV9wZXJzb25fNjljNDY4ZDgtYzc0MS00NzI4LTk2YWItYjgwMTZmZmYwYTJkXzEucG5nP3dpZHRoPTI3MyZoZWlnaHQ9MjczKVxcbj4hW10oaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy8xMTM4NTY3MzA1NDU5MTQyNzk2LzExNDMzMTIxMDQ1NTY4NzU4MTYvSGVycl93ZWlyZF9jcmVlcHlfd29ybV9wZXJzb25fY2Q2ZTNlNjAtM2UyYS00YTExLWIyMWUtZDA3NmY5YzczMTdiLnBuZz93aWR0aD0yNzMmaGVpZ2h0PTI3MylcXG4+XFxuPioqSGVyciAtIDgvMjIvMjAyMywgMToxNTozNSBBTSoqXFxuPiFbXShodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzExMzg1NjczMDU0NTkxNDI3OTYvMTE0MzMyMjU0MDk3MDg3MjkwMi9jYXRqYW0uZ2lmKWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgICBcbiAgICAgICAgLy8gYXNzZXJ0aW9uc1xuICAgICAgICBmb3IgKGNvbnN0IHtmaWxlTmFtZSwgb2JqZWN0LCBtYXJrZG93bn0gb2YgVEVTVE9CSkVDVFMpe1xuICAgICAgICAgICAgZnMucmVhZEZpbGUodGhpcy5ESVIgKyBmaWxlTmFtZSwgJ3V0ZjgnLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uID0gRGlzY29yZENvbnZlcnNhdGlvbi5mcm9tUmF3SFRNTChkYXRhLCBmb3JtYXRzKTtcblxuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKGNvbnZlcnNhdGlvbiwgb2JqZWN0LCBcIkRpc2NvcmRDb252ZXJzYXRpb24gT2JqZWN0IGVxdWFsaXR5OiBcIiArIGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChjb252ZXJzYXRpb24udG9NYXJrZG93bihmb3JtYXRzKSwgbWFya2Rvd24sIFwiRGlzY29yZENvbnZlcnNhdGlvbi50b01hcmtkb3duKCkgZXF1YWxpdHk6IFwiICsgZmlsZU5hbWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcnVuU2luZ2xlTWVzc2FnZVRlc3RzKGZvcm1hdHM6IElNZXNzYWdlRm9ybWF0cyl7XG4gICAgICAgIC8vIHJlZmVycmluZyB0byBEaXNjb3JkU2luZ2xlTWVzc2FnZSBjbGFzc1xuICAgICAgICBjb25zdCBURVNUT0JKRUNUUzogdGVzdE9iamVjdFtdID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBcInNpbmdsZS5odG1sXCIsIFxuICAgICAgICAgICAgICAgIG9iamVjdDoge1wiaGVhZGVyXCI6e1wibmlja25hbWVcIjpcIkhlcnJcIixcInRpbWVFeGFjdFwiOjE2OTE1MjYwMzkzNDEsXCJ0aW1lUmVsYXRpdmVcIjpcIlRvZGF5IGF0IDIyOjIwXCJ9LFwiY29udGV4dFwiOntcImNoYW5uZWxJZFwiOlwiMTEzODU2NzQ3MzkxMDc5NjMxXCJ9LFwiY29udGVudFwiOntcInRleHRcIjpcIm5vcm1hbCAqaXRhbGljcyogKipib2xkKiogPHU+dW5kZXJsaW5lPC91PiB+fnN0cmlrZXRocm91Z2h+flxcbj4qKkhFQURJTkcqKlxcbj5cIn19LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBgPioqSGVyciAtIDgvOC8yMDIzLCAxMDoyMDozOSBQTSoqXFxuPm5vcm1hbCAqaXRhbGljcyogKipib2xkKiogPHU+dW5kZXJsaW5lPC91PiB+fnN0cmlrZXRocm91Z2h+flxcbj4qKkhFQURJTkcqKlxcbj5gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBcInNpbmdsZV93aXRoX3VuaWNvZGVfZW1vamlzLmh0bWxcIixcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHtcImhlYWRlclwiOntcIm5pY2tuYW1lXCI6XCJIZXJyXCIsXCJ0aW1lRXhhY3RcIjoxNjkyNjQ5MjYwMjA0LFwidGltZVJlbGF0aXZlXCI6XCJUb2RheSBhdCAyMjoyMVwifSxcImNvbnRleHRcIjp7XCJjaGFubmVsSWRcIjpcIjExNDMyNzg2MDM2NjkzNDgzN1wifSxcImNvbnRlbnRcIjp7XCJ0ZXh0XCI6XCJcdUQ4M0NcdURGNEIgXHVEODNDXHVERjQ2IFx1RDgzQ1x1RERFOVx1RDgzQ1x1RERFQVwifX0sXG4gICAgICAgICAgICAgICAgbWFya2Rvd246IGA+KipIZXJyIC0gOC8yMS8yMDIzLCAxMDoyMTowMCBQTSoqXFxuPlx1RDgzQ1x1REY0QiBcdUQ4M0NcdURGNDYgXHVEODNDXHVEREU5XHVEODNDXHVEREVBYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJzaW5nbGVfd2l0aF9hdHRhY2htZW50c19hbmRfdGV4dC5odG1sXCIsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB7XCJoZWFkZXJcIjp7XCJuaWNrbmFtZVwiOlwiSGVyclwiLFwidGltZUV4YWN0XCI6MTY5MjY1NzI0NzQ0OCxcInRpbWVSZWxhdGl2ZVwiOlwiVG9kYXkgYXQgMDA6MzRcIn0sXCJjb250ZXh0XCI6e1wiY2hhbm5lbElkXCI6XCIxMTQzMzEyMTA0NTk4ODEwNjhcIn0sXCJjb250ZW50XCI6e1widGV4dFwiOlwiYWNjb21wYW55aW5nIG1lc3NhZ2UgdGV4dFwiLFwiYXR0YWNobWVudHNcIjpbXCJodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzExMzg1NjczMDU0NTkxNDI3OTYvMTE0MzMxMjEwNDEwMzg3MDUxNi9IZXJyX3BvcnRyYWl0X29mX3dlaXJkX3dvcm1fcGVyc29uXzY5YzQ2OGQ4LWM3NDEtNDcyOC05NmFiLWI4MDE2ZmZmMGEyZF8xLnBuZz93aWR0aD0yNzMmaGVpZ2h0PTI3M1wiLFwiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy8xMTM4NTY3MzA1NDU5MTQyNzk2LzExNDMzMTIxMDQ1NTY4NzU4MTYvSGVycl93ZWlyZF9jcmVlcHlfd29ybV9wZXJzb25fY2Q2ZTNlNjAtM2UyYS00YTExLWIyMWUtZDA3NmY5YzczMTdiLnBuZz93aWR0aD0yNzMmaGVpZ2h0PTI3M1wiXX19LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBgPioqSGVyciAtIDgvMjIvMjAyMywgMTI6MzQ6MDcgQU0qKlxcbj5hY2NvbXBhbnlpbmcgbWVzc2FnZSB0ZXh0XFxuPiFbXShodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzExMzg1NjczMDU0NTkxNDI3OTYvMTE0MzMxMjEwNDEwMzg3MDUxNi9IZXJyX3BvcnRyYWl0X29mX3dlaXJkX3dvcm1fcGVyc29uXzY5YzQ2OGQ4LWM3NDEtNDcyOC05NmFiLWI4MDE2ZmZmMGEyZF8xLnBuZz93aWR0aD0yNzMmaGVpZ2h0PTI3MylcXG4+IVtdKGh0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvMTEzODU2NzMwNTQ1OTE0Mjc5Ni8xMTQzMzEyMTA0NTU2ODc1ODE2L0hlcnJfd2VpcmRfY3JlZXB5X3dvcm1fcGVyc29uX2NkNmUzZTYwLTNlMmEtNGExMS1iMjFlLWQwNzZmOWM3MzE3Yi5wbmc/d2lkdGg9MjczJmhlaWdodD0yNzMpYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogXCJzaW5nbGVfd2l0aF9vbmx5X2F0dGFjaG1lbnQuaHRtbFwiLFxuICAgICAgICAgICAgICAgIG9iamVjdDoge1wiaGVhZGVyXCI6e1wibmlja25hbWVcIjpcIkhlcnJcIixcInRpbWVFeGFjdFwiOjE2OTI2NTk3MzU4NzMsXCJ0aW1lUmVsYXRpdmVcIjpcIlRvZGF5IGF0IDAxOjE1XCJ9LFwiY29udGV4dFwiOntcImNoYW5uZWxJZFwiOlwiMTE0MzMyMjU0MTgwOTc1MDA1XCJ9LFwiY29udGVudFwiOntcImF0dGFjaG1lbnRzXCI6W1wiaHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy8xMTM4NTY3MzA1NDU5MTQyNzk2LzExNDMzMjI1NDA5NzA4NzI5MDIvY2F0amFtLmdpZlwiXX19LFxuICAgICAgICAgICAgICAgIG1hcmtkb3duOiBgPioqSGVyciAtIDgvMjIvMjAyMywgMToxNTozNSBBTSoqXFxuPiFbXShodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzExMzg1NjczMDU0NTkxNDI3OTYvMTE0MzMyMjU0MDk3MDg3MjkwMi9jYXRqYW0uZ2lmKWBcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF1cblxuICAgICAgICBmb3IgKGNvbnN0IHtmaWxlTmFtZSwgb2JqZWN0LCBtYXJrZG93bn0gb2YgVEVTVE9CSkVDVFMpe1xuICAgICAgICAgICAgZnMucmVhZEZpbGUodGhpcy5ESVIgKyBmaWxlTmFtZSwgJ3V0ZjgnLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IERPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgc2luZ2xlTWVzc2FnZSA9IG5ldyBEaXNjb3JkU2luZ2xlTWVzc2FnZShET00uYm9keSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbChzaW5nbGVNZXNzYWdlLCBvYmplY3QsIFwiU2luZ2xlTWVzc2FnZSBPYmplY3QgZXF1YWxpdHk6IFwiICsgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGFzc2VydEVxdWFsKHNpbmdsZU1lc3NhZ2UudG9NYXJrZG93bihmb3JtYXRzKSwgbWFya2Rvd24sIFwiU2luZ2xlTWVzc2FnZS50b01hcmtkb3duKCkgZXF1YWxpdHk6IFwiICsgZmlsZU5hbWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFRlc3RzKCk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLElBQUFBLG1CQUFxQzs7O0FDSzlCLElBQU0scUJBQU4sY0FBaUMsTUFBTTtBQUFBLEVBQzFDLFlBQVksU0FBa0I7QUFDMUIsVUFBTSxPQUFPO0FBRWIsV0FBTyxlQUFlLE1BQU0sbUJBQW1CLFNBQVM7QUFBQSxFQUM1RDtBQUNKO0FBS08sSUFBTSxvQkFBTixjQUFnQyxNQUFNO0FBQUEsRUFD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
